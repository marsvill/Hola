const PreventDuplicateScript_91=0;(function(P,G){typeof exports=="object"&&typeof module<"u"?G(exports):typeof define=="function"&&define.amd?define(["exports"],G):G(P.topojson=P.topojson||{})})(this,function(P){"use strict";function G(t,r){var c=r.id,s=r.bbox,a=r.properties==null?{}:r.properties,i=_(t,r);return c==null&&s==null?{type:"Feature",properties:a,geometry:i}:s==null?{type:"Feature",id:c,properties:a,geometry:i}:{type:"Feature",id:c,bbox:s,properties:a,geometry:i}}function _(t,r){function c(e,n){n.length&&n.pop();for(var u=o[e<0?~e:e],g=0,v=u.length;g<v;++g)n.push(f(u[g],g));e<0&&Mt(n,v)}function s(e){return f(e)}function a(e){for(var n=[],u=0,g=e.length;u<g;++u)c(e[u],n);return n.length<2&&n.push(n[0]),n}function i(e){for(var n=a(e);n.length<4;)n.push(n[0]);return n}function l(e){return e.map(i)}function h(e){var n,u=e.type;switch(u){case"GeometryCollection":return{type:u,geometries:e.geometries.map(h)};case"Point":n=s(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(s);break;case"LineString":n=a(e.arcs);break;case"MultiLineString":n=e.arcs.map(a);break;case"Polygon":n=l(e.arcs);break;case"MultiPolygon":n=e.arcs.map(l);break;default:return null}return{type:u,coordinates:n}}var f=T(t.transform),o=t.arcs;return h(r)}function D(t,r,c){var s,a,i;if(arguments.length>1)s=ut(t,r,c);else for(a=0,s=new Array(i=t.arcs.length);a<i;++a)s[a]=a;return{type:"MultiLineString",arcs:tt(t,s)}}function ut(t,r,c){function s(n){var u=n<0?~n:n;(e[u]||(e[u]=[])).push({i:n,g:f})}function a(n){n.forEach(s)}function i(n){n.forEach(a)}function l(n){n.forEach(i)}function h(n){switch(f=n,n.type){case"GeometryCollection":n.geometries.forEach(h);break;case"LineString":a(n.arcs);break;case"MultiLineString":case"Polygon":i(n.arcs);break;case"MultiPolygon":l(n.arcs)}}var f,o=[],e=[];return h(r),e.forEach(c==null?function(n){o.push(n[0].i)}:function(n){c(n[0].g,n[n.length-1].g)&&o.push(n[0].i)}),o}function ct(t){for(var r,c=-1,s=t.length,a=t[s-1],i=0;++c<s;)r=a,a=t[c],i+=r[0]*a[1]-r[1]*a[0];return Math.abs(i)}function H(t,r){function c(f){switch(f.type){case"GeometryCollection":f.geometries.forEach(c);break;case"Polygon":s(f.arcs);break;case"MultiPolygon":f.arcs.forEach(s)}}function s(f){f.forEach(function(o){o.forEach(function(e){(i[e=e<0?~e:e]||(i[e]=[])).push(f)})}),l.push(f)}function a(f){return ct(_(t,{type:"Polygon",arcs:[f]}).coordinates[0])}var i={},l=[],h=[];return r.forEach(c),l.forEach(function(f){if(!f._){var o=[],e=[f];for(f._=1,h.push(o);f=e.pop();)o.push(f),f.forEach(function(n){n.forEach(function(u){i[u<0?~u:u].forEach(function(g){g._||(g._=1,e.push(g))})})})}}),l.forEach(function(f){delete f._}),{type:"MultiPolygon",arcs:h.map(function(f){var o,e=[];if(f.forEach(function(b){b.forEach(function(M){M.forEach(function(p){i[p<0?~p:p].length<2&&e.push(p)})})}),e=tt(t,e),(o=e.length)>1)for(var n,u,g=1,v=a(e[0]);g<o;++g)(n=a(e[g]))>v&&(u=e[0],e[0]=e[g],e[g]=u,v=n);return e})}}function ft(t,r,c,s){O(t,r,c),O(t,r,r+s),O(t,r+s,c)}function O(t,r,c){for(var s,a=r+(c---r>>1);r<a;++r,--c)s=t[r],t[r]=t[c],t[c]=s}function lt(t){return t==null?{type:null}:(t.type==="FeatureCollection"?st:t.type==="Feature"?J:q)(t)}function st(t){var r={type:"GeometryCollection",geometries:t.features.map(J)};return t.bbox!=null&&(r.bbox=t.bbox),r}function J(t){var r,c=q(t.geometry);t.id!=null&&(c.id=t.id),t.bbox!=null&&(c.bbox=t.bbox);for(r in t.properties){c.properties=t.properties;break}return c}function q(t){if(t==null)return{type:null};var r=t.type==="GeometryCollection"?{type:"GeometryCollection",geometries:t.geometries.map(q)}:t.type==="Point"||t.type==="MultiPoint"?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return t.bbox!=null&&(r.bbox=t.bbox),r}function ht(t){var r,c=t[0],s=t[1];return s<c&&(r=c,c=s,s=r),c+31*s}function pt(t,r){var c,s=t[0],a=t[1],i=r[0],l=r[1];return a<s&&(c=s,s=a,a=c),l<i&&(c=i,i=l,l=c),s===i&&a===l}function gt(){return!0}function yt(t){return t}function vt(t){return t.type!=null}function K(t){var r=t[0],c=t[1],s=t[2];return Math.abs((r[0]-s[0])*(c[1]-r[1])-(r[0]-c[0])*(s[1]-r[1]))/2}function Q(t){for(var r,c=-1,s=t.length,a=t[s-1],i=0;++c<s;)r=a,a=t[c],i+=r[0]*a[1]-r[1]*a[0];return Math.abs(i)/2}function I(t,r){return t[1][2]-r[1][2]}function bt(t){return[t[0],t[1],0]}function mt(t,r){if(c=t.length){if((r=+r)<=0||c<2)return t[0];if(r>=1)return t[c-1];var c,s=(c-1)*r,a=Math.floor(s),i=t[a];return i+(t[a+1]-i)*(s-a)}}function dt(t,r){return r-t}function X(t,r){for(var c,s,a,i=0,l=t.length,h=0,f=t[r?i++:l-1],o=f[0]*N,e=f[1]*N/2+at,n=V(e),u=W(e);i<l;++i){c=o,o=(f=t[i])[0]*N,e=f[1]*N/2+at,s=n,n=V(e),a=u,u=W(e);var g=o-c,v=g>=0?1:-1,b=v*g,M=a*u,p=s*n+M*V(b),d=M*v*W(b);h+=Ft(d,p)}return h}var Y=function(t){return t},T=function(t){if(t==null)return Y;var r,c,s=t.scale[0],a=t.scale[1],i=t.translate[0],l=t.translate[1];return function(h,f){f||(r=c=0);var o=2,e=h.length,n=new Array(e);for(n[0]=(r+=h[0])*s+i,n[1]=(c+=h[1])*a+l;o<e;)n[o]=h[o],++o;return n}},Z=function(t){function r(o){(o=a(o))[0]<i&&(i=o[0]),o[0]>h&&(h=o[0]),o[1]<l&&(l=o[1]),o[1]>f&&(f=o[1])}function c(o){switch(o.type){case"GeometryCollection":o.geometries.forEach(c);break;case"Point":r(o.coordinates);break;case"MultiPoint":o.coordinates.forEach(r)}}var s,a=T(t.transform),i=1/0,l=i,h=-i,f=-i;t.arcs.forEach(function(o){for(var e,n=-1,u=o.length;++n<u;)(e=a(o[n],n))[0]<i&&(i=e[0]),e[0]>h&&(h=e[0]),e[1]<l&&(l=e[1]),e[1]>f&&(f=e[1])});for(s in t.objects)c(t.objects[s]);return[i,l,h,f]},Mt=function(t,r){for(var c,s=t.length,a=s-r;a<--s;)c=t[a],t[a++]=t[s],t[s]=c},$=function(t,r){return r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(c){return G(t,c)})}:G(t,r)},tt=function(t,r){function c(o){var e,n=t.arcs[o<0?~o:o],u=n[0];return t.transform?(e=[0,0],n.forEach(function(g){e[0]+=g[0],e[1]+=g[1]})):e=n[n.length-1],o<0?[e,u]:[u,e]}function s(o,e){for(var n in o){var u=o[n];delete e[u.start],delete u.start,delete u.end,u.forEach(function(g){a[g<0?~g:g]=1}),h.push(u)}}var a={},i={},l={},h=[],f=-1;return r.forEach(function(o,e){var n,u=t.arcs[o<0?~o:o];u.length<3&&!u[1][0]&&!u[1][1]&&(n=r[++f],r[f]=o,r[e]=n)}),r.forEach(function(o){var e,n,u=c(o),g=u[0],v=u[1];if(e=l[g])if(delete l[e.end],e.push(o),e.end=v,n=i[v]){delete i[n.start];var b=n===e?e:e.concat(n);i[b.start=e.start]=l[b.end=n.end]=b}else i[e.start]=l[e.end]=e;else if(e=i[v])if(delete i[e.start],e.unshift(o),e.start=g,n=l[g]){delete l[n.end];var M=n===e?e:n.concat(e);i[M.start=n.start]=l[M.end=e.end]=M}else i[e.start]=l[e.end]=e;else i[(e=[o]).start=g]=l[e.end=v]=e}),s(l,i),s(i,l),r.forEach(function(o){a[o<0?~o:o]||h.push([o])}),h},nt=function(t,r){for(var c=0,s=t.length;c<s;){var a=c+s>>>1;t[a]<r?c=a+1:s=a}return c},et=function(t){if(t==null)return Y;var r,c,s=t.scale[0],a=t.scale[1],i=t.translate[0],l=t.translate[1];return function(h,f){f||(r=c=0);var o=2,e=h.length,n=new Array(e),u=Math.round((h[0]-i)/s),g=Math.round((h[1]-l)/a);for(n[0]=u-r,r=u,n[1]=g-c,c=g;o<e;)n[o]=h[o],++o;return n}},Et=function(t){function r(n){n!=null&&o.hasOwnProperty(n.type)&&o[n.type](n)}function c(n){var u=n[0],g=n[1];u<i&&(i=u),u>h&&(h=u),g<l&&(l=g),g>f&&(f=g)}function s(n){n.forEach(c)}function a(n){n.forEach(s)}var i=1/0,l=1/0,h=-1/0,f=-1/0,o={GeometryCollection:function(n){n.geometries.forEach(r)},Point:function(n){c(n.coordinates)},MultiPoint:function(n){n.coordinates.forEach(c)},LineString:function(n){s(n.arcs)},MultiLineString:function(n){n.arcs.forEach(s)},Polygon:function(n){n.arcs.forEach(s)},MultiPolygon:function(n){n.arcs.forEach(a)}};for(var e in t)r(t[e]);return h>=i&&f>=l?[i,l,h,f]:void 0},xt=function(t,r,c,s,a){arguments.length===3&&(s=Array,a=null);for(var i=new s(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),l=t-1,h=0;h<t;++h)i[h]=a;return{add:function(f){for(var o=r(f)&l,e=i[o],n=0;e!=a;){if(c(e,f))return!0;if(++n>=t)throw new Error("full hashset");e=i[o=o+1&l]}return i[o]=f,!0},has:function(f){for(var o=r(f)&l,e=i[o],n=0;e!=a;){if(c(e,f))return!0;if(++n>=t)break;e=i[o=o+1&l]}return!1},values:function(){for(var f=[],o=0,e=i.length;o<e;++o){var n=i[o];n!=a&&f.push(n)}return f}}},U=function(t,r,c,s,a,i){arguments.length===3&&(s=i=Array,a=null);for(var l=new s(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),h=new i(t),f=t-1,o=0;o<t;++o)l[o]=a;return{set:function(e,n){for(var u=r(e)&f,g=l[u],v=0;g!=a;){if(c(g,e))return h[u]=n;if(++v>=t)throw new Error("full hashmap");g=l[u=u+1&f]}return l[u]=e,h[u]=n,n},maybeSet:function(e,n){for(var u=r(e)&f,g=l[u],v=0;g!=a;){if(c(g,e))return h[u];if(++v>=t)throw new Error("full hashmap");g=l[u=u+1&f]}return l[u]=e,h[u]=n,n},get:function(e,n){for(var u=r(e)&f,g=l[u],v=0;g!=a;){if(c(g,e))return h[u];if(++v>=t)break;g=l[u=u+1&f]}return n},keys:function(){for(var e=[],n=0,u=l.length;n<u;++n){var g=l[n];g!=a&&e.push(g)}return e}}},S=function(t,r){return t[0]===r[0]&&t[1]===r[1]},Pt=new ArrayBuffer(16),F=new Uint32Array(Pt),z=function(t){var r=F[0]^F[1];return 2147483647&(r=r<<5^r>>7^F[2]^F[3])},wt=function(t){function r(A,C,L,j){if(u[L]!==A){u[L]=A;var B=g[L];if(B>=0){var it=v[L];B===C&&it===j||B===j&&it===C||(++M,b[L]=1)}else g[L]=C,v[L]=j}}function c(A){return z(f[A])}function s(A,C){return S(f[A],f[C])}var a,i,l,h,f=t.coordinates,o=t.lines,e=t.rings,n=function(){for(var A=U(1.4*f.length,c,s,Int32Array,-1,Int32Array),C=new Int32Array(f.length),L=0,j=f.length;L<j;++L)C[L]=A.maybeSet(L,L);return C}(),u=new Int32Array(f.length),g=new Int32Array(f.length),v=new Int32Array(f.length),b=new Int8Array(f.length),M=0;for(a=0,i=f.length;a<i;++a)u[a]=g[a]=v[a]=-1;for(a=0,i=o.length;a<i;++a){var p=o[a],d=p[0],y=p[1];for(l=n[d],h=n[++d],++M,b[l]=1;++d<=y;)r(a,l,l=h,h=n[d]);++M,b[h]=1}for(a=0,i=f.length;a<i;++a)u[a]=-1;for(a=0,i=e.length;a<i;++a){var m=e[a],E=m[0]+1,x=m[1];for(r(a,n[x-1],l=n[E-1],h=n[E]);++E<=x;)r(a,l,l=h,h=n[E])}u=g=v=null;var w,k=xt(1.4*M,z,S);for(a=0,i=f.length;a<i;++a)b[w=n[a]]&&k.add(f[w]);return k},kt=function(t){var r,c,s,a=wt(t),i=t.coordinates,l=t.lines,h=t.rings;for(c=0,s=l.length;c<s;++c)for(var f=l[c],o=f[0],e=f[1];++o<e;)a.has(i[o])&&(r={0:o,1:f[1]},f[1]=o,f=f.next=r);for(c=0,s=h.length;c<s;++c)for(var n=h[c],u=n[0],g=u,v=n[1],b=a.has(i[u]);++g<v;)a.has(i[g])&&(b?(r={0:g,1:n[1]},n[1]=g,n=n.next=r):(ft(i,u,v,v-g),i[v]=i[u],b=!0,g=u));return t},At=function(t){function r(p){var d,y,m,E,x,w,k,A;if(m=b.get(d=n[p[0]])){for(k=0,A=m.length;k<A;++k)if(E=m[k],c(E,p))return p[0]=E[0],void(p[1]=E[1])}if(x=b.get(y=n[p[1]])){for(k=0,A=x.length;k<A;++k)if(w=x[k],s(w,p))return p[1]=w[0],void(p[0]=w[1])}m?m.push(p):b.set(d,[p]),x?x.push(p):b.set(y,[p]),M.push(p)}function c(p,d){var y=p[0],m=d[0],E=p[1];if(y-E!=m-d[1])return!1;for(;y<=E;++y,++m)if(!S(n[y],n[m]))return!1;return!0}function s(p,d){var y=p[0],m=d[0],E=p[1],x=d[1];if(y-E!=m-x)return!1;for(;y<=E;++y,--x)if(!S(n[y],n[x]))return!1;return!0}function a(p,d){var y=p[0],m=d[0],E=p[1]-y;if(E!==d[1]-m)return!1;for(var x=l(p),w=l(d),k=0;k<E;++k)if(!S(n[y+(k+x)%E],n[m+(k+w)%E]))return!1;return!0}function i(p,d){var y=p[0],m=d[0],E=p[1],x=d[1],w=E-y;if(w!==x-m)return!1;for(var k=l(p),A=w-l(d),C=0;C<w;++C)if(!S(n[y+(C+k)%w],n[x-(C+A)%w]))return!1;return!0}function l(p){for(var d=p[0],y=p[1],m=d,E=m,x=n[m];++m<y;){var w=n[m];(w[0]<x[0]||w[0]===x[0]&&w[1]<x[1])&&(E=m,x=w)}return E-d}var h,f,o,e,n=t.coordinates,u=t.lines,g=t.rings,v=u.length+g.length;for(delete t.lines,delete t.rings,o=0,e=u.length;o<e;++o)for(h=u[o];h=h.next;)++v;for(o=0,e=g.length;o<e;++o)for(f=g[o];f=f.next;)++v;var b=U(2*v*1.4,z,S),M=t.arcs=[];for(o=0,e=u.length;o<e;++o){h=u[o];do r(h);while(h=h.next)}for(o=0,e=g.length;o<e;++o)if((f=g[o]).next)do r(f);while(f=f.next);else(function(p){var d,y,m,E,x;if(y=b.get(d=n[p[0]]))for(E=0,x=y.length;E<x;++E){if(m=y[E],a(m,p))return p[0]=m[0],void(p[1]=m[1]);if(i(m,p))return p[0]=m[1],void(p[1]=m[0])}if(y=b.get(d=n[p[0]+l(p)]))for(E=0,x=y.length;E<x;++E){if(m=y[E],a(m,p))return p[0]=m[0],void(p[1]=m[1]);if(i(m,p))return p[0]=m[1],void(p[1]=m[0])}y?y.push(p):b.set(d,[p]),M.push(p)})(f);return t},Lt=function(t){for(var r=-1,c=t.length;++r<c;){for(var s,a,i=t[r],l=0,h=1,f=i.length,o=i[0],e=o[0],n=o[1];++l<f;)s=(o=i[l])[0],a=o[1],s===e&&a===n||(i[h++]=[s-e,a-n],e=s,n=a);h===1&&(i[h++]=[0,0]),i.length=h}return t},Ct=function(t){function r(n){n&&o.hasOwnProperty(n.type)&&o[n.type](n)}function c(n){for(var u=0,g=n.length;u<g;++u)f[++i]=n[u];var v={0:i-g+1,1:i};return l.push(v),v}function s(n){for(var u=0,g=n.length;u<g;++u)f[++i]=n[u];var v={0:i-g+1,1:i};return h.push(v),v}function a(n){return n.map(s)}var i=-1,l=[],h=[],f=[],o={GeometryCollection:function(n){n.geometries.forEach(r)},LineString:function(n){n.arcs=c(n.arcs)},MultiLineString:function(n){n.arcs=n.arcs.map(c)},Polygon:function(n){n.arcs=n.arcs.map(s)},MultiPolygon:function(n){n.arcs=n.arcs.map(a)}};for(var e in t)r(t[e]);return{type:"Topology",coordinates:f,lines:l,rings:h,objects:t}},St=function(t){var r,c={};for(r in t)c[r]=lt(t[r]);return c},Gt=function(t,r,c){function s(p){return[Math.round((p[0]-o)*g),Math.round((p[1]-e)*v)]}function a(p,d){for(var y,m,E,x,w,k=-1,A=0,C=p.length,L=new Array(C);++k<C;)y=p[k],x=Math.round((y[0]-o)*g),w=Math.round((y[1]-e)*v),x===m&&w===E||(L[A++]=[m=x,E=w]);for(L.length=A;A<d;)A=L.push([L[0][0],L[0][1]]);return L}function i(p){return a(p,2)}function l(p){return a(p,4)}function h(p){return p.map(l)}function f(p){p!=null&&b.hasOwnProperty(p.type)&&b[p.type](p)}var o=r[0],e=r[1],n=r[2],u=r[3],g=n-o?(c-1)/(n-o):1,v=u-e?(c-1)/(u-e):1,b={GeometryCollection:function(p){p.geometries.forEach(f)},Point:function(p){p.coordinates=s(p.coordinates)},MultiPoint:function(p){p.coordinates=p.coordinates.map(s)},LineString:function(p){p.arcs=i(p.arcs)},MultiLineString:function(p){p.arcs=p.arcs.map(i)},Polygon:function(p){p.arcs=h(p.arcs)},MultiPolygon:function(p){p.arcs=p.arcs.map(h)}};for(var M in t)f(t[M]);return{scale:[1/g,1/v],translate:[o,e]}},jt=function(t){function r(y){switch(y.type){case"GeometryCollection":y.geometries.forEach(r);break;case"LineString":s(y.arcs);break;case"MultiLineString":case"Polygon":y.arcs.forEach(s);break;case"MultiPolygon":y.arcs.forEach(a)}}function c(y){y<0&&(y=~y),M[y]||(M[y]=1,++p)}function s(y){y.forEach(c)}function a(y){y.forEach(s)}function i(y){var m;switch(y.type){case"GeometryCollection":m={type:"GeometryCollection",geometries:y.geometries.map(i)};break;case"LineString":m={type:"LineString",arcs:h(y.arcs)};break;case"MultiLineString":m={type:"MultiLineString",arcs:y.arcs.map(h)};break;case"Polygon":m={type:"Polygon",arcs:y.arcs.map(h)};break;case"MultiPolygon":m={type:"MultiPolygon",arcs:y.arcs.map(f)};break;default:return y}return y.id!=null&&(m.id=y.id),y.bbox!=null&&(m.bbox=y.bbox),y.properties!=null&&(m.properties=y.properties),m}function l(y){return y<0?~M[~y]:M[y]}function h(y){return y.map(l)}function f(y){return y.map(h)}var o,e,n=t.objects,u={},g=t.arcs,v=g.length,b=-1,M=new Array(v),p=0,d=-1;for(e in n)r(n[e]);for(o=new Array(p);++b<v;)M[b]&&(M[b]=++d,o[d]=g[b]);for(e in n)u[e]=i(n[e]);return{type:"Topology",bbox:t.bbox,transform:t.transform,objects:u,arcs:o}},ot=function(t){function r(l){switch(l.type){case"GeometryCollection":l.geometries.forEach(r);break;case"Polygon":c(l.arcs);break;case"MultiPolygon":l.arcs.forEach(c)}}function c(l){for(var h=0,f=l.length;h<f;++h,++i)for(var o=l[h],e=0,n=o.length;e<n;++e){var u=o[e];u<0&&(u=~u);var g=a[u];g==null?a[u]=i:g!==i&&(a[u]=-1)}}var s,a=new Array(t.arcs.length),i=0;for(s in t.objects)r(t.objects[s]);return function(l){for(var h,f=0,o=l.length;f<o;++f)if(a[(h=l[f])<0?~h:h]===-1)return!0;return!1}},rt=function(t,r,c){return r=r==null?Number.MIN_VALUE:+r,c==null&&(c=Q),function(s,a){return c($(t,{type:"Polygon",arcs:[s]}).geometry.coordinates[0],a)>=r}},_t=function(){function t(i,l){for(;l>0;){var h=(l+1>>1)-1,f=s[h];if(I(i,f)>=0)break;s[f._=l]=f,s[i._=l=h]=i}}function r(i,l){for(;;){var h=l+1<<1,f=h-1,o=l,e=s[o];if(f<a&&I(s[f],e)<0&&(e=s[o=f]),h<a&&I(s[h],e)<0&&(e=s[o=h]),o===l)break;s[e._=l]=e,s[i._=l=o]=i}}var c={},s=[],a=0;return c.push=function(i){return t(s[i._=a]=i,a++),a},c.pop=function(){if(!(a<=0)){var i,l=s[0];return--a>0&&(i=s[a],r(s[i._=0]=i,0)),l}},c.remove=function(i){var l,h=i._;if(s[h]===i)return h!==--a&&(l=s[a],(I(l,i)<0?t:r)(s[l._=h]=l,h)),h},c},R=Math.PI,It=2*R,at=R/4,N=R/180,Tt=Math.abs,Ft=Math.atan2,V=Math.cos,W=Math.sin;P.bbox=Z,P.feature=$,P.mesh=function(t){return _(t,D.apply(this,arguments))},P.meshArcs=D,P.merge=function(t){return _(t,H.apply(this,arguments))},P.mergeArcs=H,P.neighbors=function(t){function r(b,M){b.forEach(function(p){p<0&&(p=~p);var d=a[p];d?d.push(M):a[p]=[M]})}function c(b,M){b.forEach(function(p){r(p,M)})}function s(b,M){b.type==="GeometryCollection"?b.geometries.forEach(function(p){s(p,M)}):b.type in l&&l[b.type](b.arcs,M)}var a={},i=t.map(function(){return[]}),l={LineString:r,MultiLineString:c,Polygon:c,MultiPolygon:function(b,M){b.forEach(function(p){c(p,M)})}};t.forEach(s);for(var h in a)for(var f=a[h],o=f.length,e=0;e<o;++e)for(var n=e+1;n<o;++n){var u,g=f[e],v=f[n];(u=i[g])[h=nt(u,v)]!==v&&u.splice(h,0,v),(u=i[v])[h=nt(u,g)]!==g&&u.splice(h,0,g)}return i},P.quantize=function(t,r){function c(v){return n(v)}function s(v){var b;switch(v.type){case"GeometryCollection":b={type:"GeometryCollection",geometries:v.geometries.map(s)};break;case"Point":b={type:"Point",coordinates:c(v.coordinates)};break;case"MultiPoint":b={type:"MultiPoint",coordinates:v.coordinates.map(c)};break;default:return v}return v.id!=null&&(b.id=v.id),v.bbox!=null&&(b.bbox=v.bbox),v.properties!=null&&(b.properties=v.properties),b}if(t.transform)throw new Error("already quantized");if(r&&r.scale)o=t.bbox;else{if(!((a=Math.floor(r))>=2))throw new Error("n must be \u22652");var a,i=(o=t.bbox||Z(t))[0],l=o[1],h=o[2],f=o[3];r={scale:[h-i?(h-i)/(a-1):1,f-l?(f-l)/(a-1):1],translate:[i,l]}}var o,e,n=et(r),u=t.objects,g={};for(e in u)g[e]=s(u[e]);return{type:"Topology",bbox:o,transform:r,objects:g,arcs:t.arcs.map(function(v){var b,M=0,p=1,d=v.length,y=new Array(d);for(y[0]=n(v[0],0);++M<d;)((b=n(v[M],M))[0]||b[1])&&(y[p++]=b);return p===1&&(y[p++]=[0,0]),y.length=p,y})}},P.transform=T,P.untransform=et,P.topology=function(t,r){function c(u){u&&e.hasOwnProperty(u.type)&&e[u.type](u)}function s(u){var g=[];do{var v=o.get(u);g.push(u[0]<u[1]?v:~v)}while(u=u.next);return g}function a(u){return u.map(s)}var i=Et(t=St(t)),l=r>0&&i&&Gt(t,i,r),h=At(kt(Ct(t))),f=h.coordinates,o=U(1.4*h.arcs.length,ht,pt);t=h.objects,h.bbox=i,h.arcs=h.arcs.map(function(u,g){return o.set(u,g),f.slice(u[0],u[1]+1)}),delete h.coordinates,f=null;var e={GeometryCollection:function(u){u.geometries.forEach(c)},LineString:function(u){u.arcs=s(u.arcs)},MultiLineString:function(u){u.arcs=u.arcs.map(s)},Polygon:function(u){u.arcs=u.arcs.map(s)},MultiPolygon:function(u){u.arcs=u.arcs.map(a)}};for(var n in t)c(t[n]);return l&&(h.transform=l,h.arcs=Lt(h.arcs)),h},P.filter=function(t,r){function c(o){var e,n;switch(o.type){case"Polygon":e=(n=s(o.arcs))?{type:"Polygon",arcs:n}:{type:null};break;case"MultiPolygon":e=(n=o.arcs.map(s).filter(yt)).length?{type:"MultiPolygon",arcs:n}:{type:null};break;case"GeometryCollection":e=(n=o.geometries.map(c).filter(vt)).length?{type:"GeometryCollection",geometries:n}:{type:null};break;default:return o}return o.id!=null&&(e.id=o.id),o.bbox!=null&&(e.bbox=o.bbox),o.properties!=null&&(e.properties=o.properties),e}function s(o){return o.length&&a(o[0])?[o[0]].concat(o.slice(1).filter(i)):null}function a(o){return r(o,!1)}function i(o){return r(o,!0)}var l,h=t.objects,f={};r==null&&(r=gt);for(l in h)f[l]=c(h[l]);return jt({type:"Topology",bbox:t.bbox,transform:t.transform,objects:f,arcs:t.arcs})},P.filterAttached=ot,P.filterAttachedWeight=function(t,r,c){var s=ot(t),a=rt(t,r,c);return function(i,l){return s(i,l)||a(i,l)}},P.filterWeight=rt,P.planarRingArea=Q,P.planarTriangleArea=K,P.presimplify=function(t,r){function c(l){a.remove(l),l[1][2]=r(l),a.push(l)}var s=t.transform?T(t.transform):bt,a=_t();r==null&&(r=K);var i=t.arcs.map(function(l){var h,f,o,e=[],n=0;for(f=1,o=(l=l.map(s)).length-1;f<o;++f)(h=[l[f-1],l[f],l[f+1]])[1][2]=r(h),e.push(h),a.push(h);for(l[0][2]=l[o][2]=1/0,f=0,o=e.length;f<o;++f)(h=e[f]).previous=e[f-1],h.next=e[f+1];for(;h=a.pop();){var u=h.previous,g=h.next;h[1][2]<n?h[1][2]=n:n=h[1][2],u&&(u.next=g,u[2]=h[2],c(u)),g&&(g.previous=u,g[0]=h[0],c(g))}return l});return{type:"Topology",bbox:t.bbox,objects:t.objects,arcs:i}},P.quantile=function(t,r){var c=[];return t.arcs.forEach(function(s){s.forEach(function(a){isFinite(a[2])&&c.push(a[2])})}),c.length&&mt(c.sort(dt),r)},P.simplify=function(t,r){r=r==null?Number.MIN_VALUE:+r;var c=t.arcs.map(function(s){for(var a,i=-1,l=0,h=s.length,f=new Array(h);++i<h;)(a=s[i])[2]>=r&&(f[l++]=[a[0],a[1]]);return f.length=l,f});return{type:"Topology",transform:t.transform,bbox:t.bbox,objects:t.objects,arcs:c}},P.sphericalRingArea=function(t,r){var c=X(t,!0);return r&&(c*=-1),2*(c<0?It+c:c)},P.sphericalTriangleArea=function(t){return 2*Tt(X(t,!1))},Object.defineProperty(P,"__esModule",{value:!0})});

//# sourceMappingURL=https://roqol.io/assets/sourcemap/chrome/2.33.1/js/modules/topojson.min.js
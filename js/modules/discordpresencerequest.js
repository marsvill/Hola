const PreventDuplicateScript_84=0;function SetTheme(e){document.body.classList.add(e)}function IsIframe(){try{return window.self!==window.top}catch{return!0}}window.addEventListener("message",function(e){e.data.type==="theme"&&SetTheme(e.data.theme)});async function HandleClick(){chrome.permissions.request({origins:["*://*.discord.com/"]},function(e){e&&(IsIframe()?parent.postMessage({type:"permission-iframe-remove",success:!0},"*"):(document.getElementById("request-button").removeEventListener("click",HandleClick),document.getElementById("request-button").innerText="You may return back to the settings page and enable the feature"))})}document.getElementById("request-button").addEventListener("click",HandleClick),chrome.permissions?.request?IsIframe()&&window.parent.postMessage({type:"permission-iframe-ready"},"*"):IsIframe()?parent.postMessage({type:"permission-iframe-remove",newtab:!0},"*"):document.getElementById("request-button").innerText="This feature is not supported on your browser.",IsIframe()||document.body.classList.add("light-theme");

//# sourceMappingURL=https://roqol.io/assets/sourcemap/chrome/2.33.1/js/modules/discordpresencerequest.js
const PreventDuplicateScript_256=0;function GetUserIdFromTradeWithURL(){return parseInt(window.location.href.split("users/")[1]?.split("/")[0])}async function AddLinkToName(){let o=(await WaitForClass("trades-header-nowrap")).getElementsByClassName("paired-name")[0],t=!1;ChildAdded(o,!0,function(i,a){if(!t&&o.children.length>=3){t=!0;const n=CreateLinkIcon(`https://www.rolimons.com/player/${GetUserIdFromTradeWithURL()}`);n.style="width: 30px;",o.children[2].appendChild(n),a&&a()}else t&&a&&a()})}async function NewAsset(e){if(e.nodeType!==Node.ELEMENT_NODE||e.tagName.toLowerCase()!=="li"||!await IsFeatureEnabled("ValueDemandOnItem"))return;e.style="margin-bottom: 0px!important; height: 250px!important;";const t=e.children[0].children[0].getElementsByClassName("item-card-caption")[0],i=parseInt(t.getElementsByTagName("a")[0].href.split("catalog/")[1].split("/")[0]),[a,n]=CreateValueCardLabel();t.appendChild(a),a.appendChild(CreateLinkIcon(`https://www.rolimons.com/item/${i}`));let d=CreateCategoriesCardLabel();t.appendChild(d),QueueForItemDetails(i).then(function([u,c]){if(n.innerText=u&&numberWithCommas(c.Value)||"???",c?.Rare){const s=CreateCategoryIcon("Rare",chrome.runtime.getURL("img/trades/rare.svg"));s.style="height: 16px; margin-left: 0px!important; margin-right: 4px!important;",d.appendChild(s)}if(c?.Projected){const s=CreateCategoryIcon("Projected",chrome.runtime.getURL("img/trades/projected.svg"));s.style="height: 16px; margin-left: 0px!important; margin-right: 4px!important;",d.appendChild(s)}if(c?.Hyped){const s=CreateCategoryIcon("Hyped",chrome.runtime.getURL("img/trades/hyped.svg"));s.style="height: 16px; margin-left: 0px!important; margin-right: 4px!important;",ValueElement.CategoryCardLabel.appendChild(s)}})}async function NewOfferAsset(e,o,t,i){if(e.nodeType!==Node.ELEMENT_NODE||e.tagName.toLowerCase()!=="div"||e.children.length===0)return;const a=await IsFeatureEnabled("ValueAndCategoriesOnOffer");if(!a&&!await IsFeatureEnabled("ShowValueOnTrade")&&!await IsFeatureEnabled("ShowValueOnTrade")&&!await IsFeatureEnabled("ShowSummaryOnTrade"))return;const n=e.getElementsByTagName("thumbnail-2d")[0];if(!n)return;const d=parseInt(n.getElementsByTagName("span")[0].getAttribute("thumbnail-target-id"));let u,c;a&&([u,c]=CreateValueCardLabel("item-value custom ng-scope"),e.appendChild(u)),o(),QueueForItemDetails(d).then(function([s,h]){c&&(c.innerText=s&&numberWithCommas(h.Value)||"???");const y=e.getElementsByClassName("item-value ng-scope")[0];let C=!1;if(y){const f=y.getElementsByClassName("text-robux ng-binding")[0];f&&(C=parseInt(f.innerText.replaceAll(",","")))}if(s&&e.parentElement.parentElement){if(o(h.Value),t(C),i(h.Demand),a){let f=CreateCategoriesCardLabel();if(e.appendChild(f),f.style="display: inline-flex !important; margin-left: 10px;",h?.Rare){const g=CreateCategoryIcon("Rare",chrome.runtime.getURL("img/trades/rare.svg"));g.style="height: 16px; margin-left: 0px!important; margin-right: 4px!important;",f.appendChild(g)}if(h?.Projected){const g=CreateCategoryIcon("Projected",chrome.runtime.getURL("img/trades/projected.svg"));g.style="height: 16px; margin-left: 0px!important; margin-right: 4px!important;",f.appendChild(g)}if(h?.Hyped){const g=CreateCategoryIcon("Hyped",chrome.runtime.getURL("img/trades/hyped.svg"));g.style="height: 16px; margin-left: 0px!important; margin-right: 4px!important;",f.appendChild(g)}}}else s||(o(!1),AddToDemand(!1),t(!1))})}function NewOfferSummary(e,o,t,i){if(e.nodeType!==Node.ELEMENT_NODE||e.tagName.toLowerCase()!=="div")return;new MutationObserver(function(n){n.forEach(function(d){if(d.type!=="childList")return;const u=d.addedNodes;for(let c=0;c<u.length;c++)NewOfferAsset(u[c],o,t,i)})}).observe(e,{childList:!0});const a=e.children;for(let n=0;n<a.length;n++)NewOfferAsset(a[n],o,t,i)}async function AddValuesToOffer(e){if(e.nodeType!==Node.ELEMENT_NODE||e.tagName.toLowerCase()!=="div")return;const o=e.getElementsByClassName("hlist item-cards item-cards-stackable")[0];if(!o)return;new MutationObserver(function(i){i.forEach(function(a){if(a.type!=="childList")return;const n=a.addedNodes;for(let d=0;d<n.length;d++)NewAsset(n[d])})}).observe(o,{childList:!0});const t=o.children;for(let i=0;i<t.length;i++)NewAsset(t[i])}async function ListenToOffers(){const e=await WaitForClass("inventory-panel-holder");new MutationObserver(function(t){t.forEach(function(i){if(i.type!=="childList")return;const a=i.addedNodes;for(let n=0;n<a.length;n++)AddValuesToOffer(a[n])})}).observe(e,{childList:!0});const o=e.children;for(let t=0;t<o.length;t++)AddValuesToOffer(o[t])}async function ListenToSummaryOffers(e,o){if(e.nodeType!==Node.ELEMENT_NODE||e.className.search("trade-request-window-offer")===-1)return;let t,i,a,n;await IsFeatureEnabled("ShowValueOnTrade")&&([t,i]=CreateRobuxLineLabel("Rolimons Value:","0"),e.appendChild(t)),await IsFeatureEnabled("ShowDemandOnTrade")&&([a,n]=CreateRobuxLineLabel("Rolimons Demand:","0.0/5.0"),e.appendChild(a));let d=0,u=0,c=0,s=[];async function h(r){if(r.nodeType!==Node.ELEMENT_NODE||r.className.search("robux-line")===-1||r.getElementsByClassName("text-secondary").length===0)return;let l;for(;!l;)await sleep(20),l=r.getElementsByClassName("robux-line-value")[0];function m(){y(parseInt(l.innerText.replaceAll(",","")))}new MutationObserver(function(p){p.forEach(function(N){N.type==="characterData"&&m()})}).observe(l,{characterData:!0,subtree:!0}),m()}function y(r){c=r,o(e,u,d,c)}function C(r){if(i){if(!r){r===!1&&(d=-1),i.innerText="...";return}d+=r,i.innerText=numberWithCommas(d),o(e,u,d,c)}}function f(r){if(!r){r===!1&&(u=-1);return}u+=r,o(e,u,d,c)}function g(r){if(!n)return;if(!r){r===!1&&(s=[-2]),n.innerText=".../5.0";return}if(s.includes(-2)){n.innerText="???/5.0";return}s.push(r);let l=Math.floor((s.reduce((m,p)=>m+p,0)/s.length+1)*10)/10;Math.floor(l)===l&&(l=`${l}.0`),n.innerText=`${l}/5.0`}new MutationObserver(function(r){r.forEach(function(l){if(l.type!=="childList")return;l.removedNodes&&(C(-d),f(-u),s=[],g());const m=l.addedNodes;for(let p=0;p<m.length;p++)NewOfferSummary(m[p],C,f,g),h(m[p])})}).observe(e,{childList:!0});const L=e.children;for(let r=0;r<L.length;r++)NewOfferSummary(L[r],C,f,g),h(L[r])}async function ListenForNewSummaryOffer(){const e=await WaitForClass("trade-request-window-offers"),o=document.createElement("div");o.className="rbx-divider",o.style="margin: 54px 0px; overflow: unset; position: relative;";const t={Ours:0,Other:0},i={Ours:0,Other:0},a={Ours:0,Other:0};let n,d,u,c,s,h,y;await IsFeatureEnabled("ShowSummaryOnTrade")&&(n=CreateGainList(),Value=CreateGain(0,"0","+0%","icon icon-rolimons-20x20",!0),d=Value[0],u=Value[1],Rap=CreateGain(0,"0","+0%","icon icon-robux-16x16",!0),c=Rap[0],s=Rap[1],Donated=CreateGain(0,"0",void 0,"icon icon-offer-20x20",!0),h=Donated[0],y=Donated[1],n.append(d,c,h),o.appendChild(n)),h&&(h.style.display="none");function C(l,m){const p=Math.floor((l-m)/m*100);return isNaN(p)?0:p}function f(l){return t[l]>-1&&i[l]>-1&&a[l]>-1}function g(l,m,p,N){if(!n)return;const b=l==e.children[0]&&"Ours"||"Other";t[b]=p,i[b]=m,a[b]=N;const E=t.Other-t.Ours,w=i.Other-i.Ours,x=a.Other-a.Ours;f("Ours")&&f("Other")?(u(E,numberWithCommas(E),`${E>=0&&"+"||"-"}${Math.abs(C(t.Other,t.Ours))}%`),s(w,numberWithCommas(w),`${w>=0&&"+"||"-"}${Math.abs(C(i.Other,i.Ours))}%`),y(x,numberWithCommas(x),`${x>=0&&"+"||"-"}`),a.Other===0&&a.Ours===0?h.style.display="none":h.style.display=""):(u(0,"???","0%"),s(0,"???","0%"),y(0,"???"))}let L=!1;new MutationObserver(function(l){l.forEach(function(m){if(m.type!=="childList")return;const p=m.addedNodes;for(let N=0;N<p.length;N++)ListenToSummaryOffers(p[N],g),e.children.length>=2&&!L&&(L=!0,e.insertBefore(o,e.children[1]))})}).observe(e,{childList:!0});const r=e.children;for(let l=0;l<r.length;l++)ListenToSummaryOffers(r[l],g);r.length>=2&&(L=!0,e.insertBefore(o,r[1]))}ListenToOffers(),ListenForNewSummaryOffer(),AddLinkToName();

//# sourceMappingURL=https://roqol.io/assets/sourcemap/chrome/2.33.1/js/pages/trades/createtrade.js
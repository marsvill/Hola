const PreventDuplicateScript_112=0;IsFeatureEnabled("BestFriendPresenceV3").then(async function(c){if(!c||!await PaidForFeature("BestFriends"))return;let t;async function u(){if(t!==void 0)return t;const[r,s]=await RequestFunc(WebServerEndpoints.BestFriends+"view","GET");r&&(t=s.CanView)}function a(){RequestFunc(WebServerEndpoints.BestFriends+"setview","POST",{"Content-Type":"application/json"},JSON.stringify({CanView:t}))}ChildAdded(await WaitForClass("tab-content"),!0,function(r,s){if(!(document.getElementById("privacy-settings")||document.getElementById("rbx-privacy-settings-header")))return;let d=!1;DescendantAdded(r,!0,async function(){if(d)return;d=!0,await sleep(0),d=!1;const e=document.getElementById("FollowMePrivacy");if(!e||document.getElementById("best-friends-view-game"))return;s();const n=document.createElement("option");n.value="BestFriends",n.id="best-friends-view-game",n.innerText="Best Friends";function l(){const o=e.children;for(let i=0;i<o.length;i++)if(o[i]===n)return i}e.addEventListener("change",function(){e.selectedIndex===l()?(n.value="NoOne",n.innerText="Best Friends (Best Friends require RoQoL extension)",t||(t=!0,a())):(n.value="BestFriends",n.innerText="Best Friends",t&&(t=!1,a()))}),ChildRemoved(e,function(){n.parentNode||e.insertBefore(n,e.children[e.children.length-1])}),e.insertBefore(n,e.children[e.children.length-1]),await u(),t&&e.value==="NoOne"&&(n.innerText="Best Friends (Best Friends require RoQoL extension)",e.value="BestFriends")})})});

//# sourceMappingURL=https://roqol.io/assets/sourcemap/chrome/2.33.1/js/pages/bestfriend/canview.js
const PreventDuplicateScript_119=0;IsFeatureEnabled("BestFriends").then(async function(c){if(!c)return;const d=await GetTargetId();if(await GetUserId()===d||!d)return;let n=!1,a;function s(){a&&(a.innerText=`${n?"Remove":"Add"} Best Friend`)}let t=!1,i;function o(){if(document.getElementById("add-best-friend"))return;const e=document.createElement("li"),r=document.createElement("button");r.role="button",r.id="add-best-friend",a=r,s(),r.addEventListener("click",async function(){n=!n,s();const m=n,[h]=await RequestFunc(WebServerEndpoints.BestFriends+"pin","POST",{"Content-Type":"application/json"},JSON.stringify({Pinned:n,UserId:d}));h||(n=m,s())}),e.appendChild(r),i.insertBefore(e,i.children[0])}function u(e){t=e.detail,t&&i&&o()}document.addEventListener("RobloxQoL.areFriended",u),InjectScript("AreFriendedProfile"),setTimeout(async function(){t==null&&(await chrome.runtime.sendMessage({type:"GetCachedFriends"})).includes(d)&&(t=!0,t&&i&&o())},5*1e3);const l=await WaitForClassPath(await WaitForQuerySelector(".profile-header:not(.hidden)"),"profile-header-more"),f=await WaitForClassPath(l,"profile-dropdown");ChildAdded(f,!0,async function(e){e.className.includes("dropdown-menu")&&(i=e,i.style["max-height"]="300px",t&&o())});const[p,F]=await RequestFunc(WebServerEndpoints.BestFriends+"ispinned?userId="+d,"GET");p&&(n=F.Pinned,s())});

//# sourceMappingURL=https://roqol.io/assets/sourcemap/chrome/2.33.1/js/pages/bestfriend/profile.js
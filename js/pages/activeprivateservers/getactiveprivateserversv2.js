const PreventDuplicateScript_95=0;async function GetActivePrivateServersV2(R){let a="";const S={},g={},c=[],n=[];let o,w;const I=await GetUserId();async function P(){if(n.length<2&&c.length>0){const e=c.pop(),s=w;w++,n.push(s),await e(s),n.splice(n.indexOf(n,s),1),P()}o&&o()}function x(e){c.push(e),P()}for(;a!==null;){const[e,s,y]=await RequestFunc(`https://www.roblox.com/users/inventory/list-json?assetTypeId=9&cursor=&itemsPerPage=100&pageNumber=${a}&placeTab=MyPrivateServers&userId=${I}`,"GET",void 0,void 0,!0);if(y?.status===429){await sleep(3e3);continue}if(!e)return[!1,"Failed to fetch private servers"];const l=s.Data,b=l.Items;if(l.length===0)return[!0];a=l.nextPageCursor;for(let d=0;d<b.length;d++){const f=b[d],v=f.Item.UniverseId,C=f.Item.AssetId;if(S[v])continue;S[v]=!0,g[v]=f.Thumbnail.Url;let p="";const u=[];x(async function(){for(;p!==null;){const[r,i,h]=await RequestFunc(`https://games.roblox.com/v1/games/${C}/private-servers?limit=100&sortOrder=Asc&cursor=${p}`,"GET",void 0,void 0,!0);if(h?.status===429){await sleep(3e3);continue}if(!r)break;const t=i.data;for(let m=0;m<t.length;m++){const T=t[m];T.owner.id==I&&u.push(T.vipServerId)}p=i.nextPageCursor}if(u.length>0)for(let r=0;r<u.length;r++){const i=u[r],[h,t]=await RequestFunc(`https://games.roblox.com/v1/vip-servers/${i}`,"GET",void 0,void 0,!0);h&&t.subscription.active&&R({Thumbnail:g[t.game.id]||"",ServerName:t.name,Id:i,Price:t.subscription.price})}})}}for(;c.length>0||n.length>0;)await new Promise(e=>{o=e});return[!0]}

//# sourceMappingURL=https://roqol.io/assets/sourcemap/chrome/2.33.1/js/pages/activeprivateservers/getactiveprivateserversv2.js
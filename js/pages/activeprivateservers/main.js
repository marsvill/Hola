const PreventDuplicateScript_97=0;let IsActivePrivateServersOpened=!1,LoadingParagraph=CreateLoadingParagraph(),CurrentPage=1,OpenConnections=[],PrivateServerCards=[];function HideDefaultCard(e,n){!e.getAttribute("custom")&&e.className=="list-item item-card ng-scope"&&(e.style=n&&"display:none;"||"")}function HideRobloxDefaultCards(e,n){const a=e.children;for(let t=0;t<a.length;t++)HideDefaultCard(a[t],n)}function ClearPrivateServerCards(){for(let e=0;e<PrivateServerCards.length;e++)PrivateServerCards[e].remove();PrivateServerCards=[]}async function CreateCardsFromServers(e,n){HideRobloxDefaultCards(n,!0),ClearPrivateServerCards();for(let a=0;a<e.length;a++){const t=e[a],r=CreatePrivateServerCard(t.Thumbnail,t.Name,t.OwnerName,t.OwnerId,t.OwnerType,t.Price,t.PlaceId);PrivateServerCards.push(r),n.appendChild(r)}n.parentElement.className="current-items"}function AddConnection(e,n,a){return OpenConnections.push({Callback:e,Type:n,Element:a}),e}async function ActivePrivateServersOpened(){CurrentPage=1,WaitForClass("breadcrumb-container").then(i=>{i.getElementsByTagName("li")[2].getElementsByTagName("span")[0].innerText="Active Private Servers",i.getElementsByTagName("li")[0].getElementsByTagName("span")[0].innerText="Private Servers"}),await sleep(100);const e=await WaitForClass("hlist item-cards item-cards-embed ng-scope");ClearPrivateServerCards(),HideRobloxDefaultCards(e,!0);function n(i,c){const l=c&&"enabled"||"disabled",o=!c&&"enabled"||"disabled";i.removeAttribute(o),i.setAttribute(l,l)}const a=await WaitForClass("btn-generic-right-sm"),t=await WaitForClass("btn-generic-left-sm"),r=(await WaitForClass("pager")).getElementsByTagName("li")[1].getElementsByTagName("span")[0];async function s(){if(!IsActivePrivateServersOpened)return;n(a,!1),n(t,!1),r.innerText=`Page ${CurrentPage}`;const i=await GetActivePrivateServers(CurrentPage);IsActivePrivateServersOpened&&(CreateCardsFromServers(i,e),n(a,i.length>=30),n(t,CurrentPage>1))}t.addEventListener("click",AddConnection(function(){CurrentPage--,s()},"click",t)),a.addEventListener("click",AddConnection(function(){CurrentPage++,s()},"click",a)),DefaultCardElementObserver.observe(e,{childList:!0}),s()}function CheckActivePrivateServersOpened(){const e=window.location.href.search("tab=active-private-servers")>-1;if(e&&!IsActivePrivateServersOpened)IsActivePrivateServersOpened=!0,ActivePrivateServersOpened();else if(!e&&IsActivePrivateServersOpened){DefaultCardElementObserver.disconnect();for(let a=0;a<OpenConnections.length;a++){const t=OpenConnections[a];t.Element.removeEventListener(t.Type,t.Callback)}ClearPrivateServerCards(),OpenConnections=[],LoadingParagraph.style="display:none;";const n=FindFirstClass("hlist item-cards item-cards-embed ng-scope");n&&HideRobloxDefaultCards(n,!1),IsActivePrivateServersOpened=!1}}window.addEventListener("popstate",CheckActivePrivateServersOpened);const DefaultCardElementObserver=new MutationObserver(function(e,n){e.forEach(function(a){if(a.type==="childList"){const t=a.addedNodes;for(let r=0;r<t.length;r++)t[r].nodeType==Node.ELEMENT_NODE&&HideDefaultCard(t[r],!0)}})});IsFeatureEnabled("ActivePrivateServers").then(async function(e){if(!e)return;let n=await WaitForClass("menu-vertical submenus"),a;for(;!a;)await sleep(100),a=await GetButtonCategoryFromHref(n,"private-servers");const[t,r]=CreateActivePrivateServersButton();a.getElementsByTagName("div")[0].getElementsByTagName("ul")[0].appendChild(t),CheckActivePrivateServersOpened()});

//# sourceMappingURL=https://roqol.io/assets/sourcemap/chrome/2.33.1/js/pages/activeprivateservers/main.js
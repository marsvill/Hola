const PreventDuplicateScript_94=0;let PreviousCursor="",ReachedEnd=!1,IsFetching=!1,AmountLoaded=0;const ActivePrivateServers=[];async function RequestActivePrivateServers(){IsFetching=!0;const[l,h]=await RequestFunc(`https://www.roblox.com/users/inventory/list-json?assetTypeId=9&cursor=&itemsPerPage=100&pageNumber=${PreviousCursor}&placeTab=MyPrivateServers&userId=${await GetUserId()}`,"GET",void 0,void 0,!0);if(!l)return!1;const s=h?.Data;if(!s)return!1;const d=s.Items;if(d.length===0)return ReachedEnd=!0,!0;const c={};PreviousCursor=s.nextPageCursor,PreviousCursor||(ReachedEnd=!0);for(let v=0;v<d.length;v++){const a=d[v],r=a.Item,i=a.PrivateServer,f=a.Product,t=a.Thumbnail;if(!i)continue;const e={Name:r.Name,OwnerType:i.UniverseId,OwnerName:i.OwnerName,OwnerId:i.OwnerId,Price:f.PriceInRobux||0,Thumbnail:t.Url,PlaceId:r.AssetId};c[r.AssetId]||(c[r.AssetId]=[]),c[r.AssetId].push(e)}let u=0;for(const[v,a]of Object.entries(c)){const r=[];let i="";for(;;){const[t,e]=await RequestFunc(`https://games.roblox.com/v1/games/${v}/private-servers?limit=100&sortOrder=Asc`,"GET",void 0,void 0,!0);if(!t){await sleep(1e3);continue}i=e.nextPageCursor;for(let n=0;n<e.data.length;n++)r.push(e.data[n]);if(!i)break;await sleep(200)}const f=[];for(let t=0;t<r.length;t++){const e=r[t];for(let n=0;n<a.length;n++){const o=a[n];o.Id||e.name===o.Name&&(o.Id=e.vipServerId,f.push(o))}}for(let t=0;t<f.length;t++){const e=f[t];if(e.Id)for(;;){const[n,o]=await RequestFunc(`https://games.roblox.com/v1/vip-servers/${e.Id}`,"GET",void 0,void 0,!0);if(!n){if(o?.errors?.[0]?.code===8)break;await sleep(1e3);continue}AmountLoaded++,u++,o.subscription.active&&ActivePrivateServers.push(e),LoadingParagraph.innerText=`Found ${ActivePrivateServers.length} active out of ${AmountLoaded} private servers!`;break}}}return AmountLoaded+=s.Items.length,AmountLoaded-=u,LoadingParagraph.innerText=`Found ${ActivePrivateServers.length} active out of ${AmountLoaded} private servers!`,!0}async function GetActivePrivateServers(l){if(!IsActivePrivateServersOpened)return;const h=await WaitForClass("tab-content rbx-tab-content");for(h.insertBefore(LoadingParagraph,h.firstChild),LoadingParagraph.style="",LoadingParagraph.innerText="Loading";IsFetching;)await sleep(100);for(;!ReachedEnd&&ActivePrivateServers.length<l*30&&IsActivePrivateServersOpened;)await RequestActivePrivateServers(),await sleep(100);if(IsFetching=!1,!IsActivePrivateServersOpened)return[];LoadingParagraph.style="display:none;";const s=[],d=l*30-30,c=Math.min(l*30,ActivePrivateServers.length);for(let u=d;u<c;u++)s.push(ActivePrivateServers[u]);return s}

//# sourceMappingURL=https://roqol.io/assets/sourcemap/chrome/2.33.1/js/pages/activeprivateservers/getactiveprivateservers.js
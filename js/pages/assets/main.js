const PreventDuplicateScript_102=0;async function GetAssetType(n){const[t,e]=await RequestFunc(`https://economy.roblox.com/v2/assets/${n}/details`);return t?e.AssetTypeId:0}function GetAssetIdFromURL(){const n=window.location.href;let t=n.split("library/")[1];return t||(t=n.split("catalog/")[1]),t||(t=n.split("bundles/")[1]),parseInt(t.split("/")[0])}function GetFileTypeFromAsset(n){switch(n){case 1:return"png";case 3:return"mp3";case 4:return"mesh";case 63:return"xml";case 9:return"rbxl";default:return"rbxm"}}setTimeout(function(){IsFeatureEnabled("ExploreAsset").then(async function(n){if(!n)return;const t=GetAssetIdFromURL(),e=await WaitForId("item-context-menu");e.tagName="li",e.className="asset-list";const i=e.getElementsByTagName("button")[0];i.style="position: relative!important;";let o=i;const c=FindFirstClass("btr-explorer-button-container");if(c){const s=CreateAssetButton();s.tagName="div",s.style="z-index: 1;",c.style="z-index: 2;",e.insertBefore(s,o),o=s}const a=await GetAssetType(t);if(e.getElementsByClassName("btr-download-button-container").length===0&&(DownloadButton=CreateAssetButton(chrome.runtime.getURL("img/assets/DownloadIcon.png")),DownloadButton.addEventListener("click",async function(){const s={};a===3&&(s["Roblox-Browser-Asset-Request"]="true");const[r,u]=await RequestFunc(`https://assetdelivery.roblox.com/v2/asset?id=${t}`,"GET",s,void 0,!0);if(!r)return;const l=u?.locations?.[0]?.location;l&&Download(l,`${t}.${GetFileTypeFromAsset(a)}`)}),e.insertBefore(DownloadButton,o),o=DownloadButton),e.getElementsByClassName("btr-content-button").length===0&&a===13){const s=await fetch(`https://assetdelivery.roblox.com/v1/asset/?id=${t}`,{method:"GET"});if(s.ok){const r=CreateAssetButton(chrome.runtime.getURL("img/assets/ImageIcon.png"));r.href=`https://www.roblox.com/catalog/${(await s.text()).match("<url>([^|]*)</url>")[1].toString().replace(/\D/g,"")}/`,e.insertBefore(r,o),o=r}}})},0);

//# sourceMappingURL=https://roqol.io/assets/sourcemap/chrome/2.33.1/js/pages/assets/main.js
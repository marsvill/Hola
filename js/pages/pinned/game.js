const PreventDuplicateScript_208=0;IsFeatureEnabled("PinnedGames").then(async function(f){if(!f)return;const e=document.createElement("a");e.className="pin-button-icon",e.setAttribute("data-toggle","tooltip"),e.setAttribute("data-placement","bottom"),e.setAttribute("data-original-title","");const o=document.createElement("img");e.appendChild(o);const r=document.createElement("li"),c=document.createElement("div"),d=document.createElement("button");c.appendChild(d),r.appendChild(c);let n=!1,s=!1,u=!1;const l=await GetUniverseIdFromGamePage();function a(){d.innerText=n?"Unpin":"Pin",o.src=chrome.runtime.getURL(`img/pinned/${n?"":"un"}pinned.png`),o.className=`pin-icon ${n?"":"un"}pinned`,e.setAttribute("data-original-title",n?"Unpin":"Pin")}async function p(){if(s)return;s=!0;const t=n;n=!n,a();const[i]=await RequestFunc(WebServerEndpoints.Pinned+"pin","POST",null,JSON.stringify({UniverseId:l,Pinned:n}));i||(n=t),s=!1}WaitForId("game-context-menu").then(function(t){u=!0,e.remove(),ChildAdded(t,!0,async function(i){if(i.className.includes("popover")){const m=await WaitForClassPath(i,"popover-content","dropdown-menu");m.insertBefore(r,m.children[0])}}),a()}),WaitForClass("game-calls-to-action").then(function(t){u||(t.insertBefore(e,t.children[0]),InjectScript("TooltipPinnedButton"))}),e.addEventListener("click",p),e.addEventListener("mouseenter",function(){o.src=chrome.runtime.getURL("img/pinned/pinned.png"),o.className="pin-icon pinned"}),e.addEventListener("mouseleave",function(){a()}),r.addEventListener("click",p),RequestFunc(WebServerEndpoints.Pinned+"ispinned?universeId="+l,"GET").then(function([t,i]){t&&(n=i.Pinned,a())}),a()});

//# sourceMappingURL=https://roqol.io/assets/sourcemap/chrome/2.33.1/js/pages/pinned/game.js
const PreventDuplicateScript_242=0;async function DiscordMiddlemanPermission(t,o,e,n,s){if(t&&!await chrome.runtime.sendMessage({type:"DiscordPresencePermitted"})){if(!o()){let d=function(c){c.source===a.contentWindow&&(c.data.type==="permission-iframe-ready"?(l=!0,a.contentWindow.postMessage({type:"theme",theme:document.body.classList.contains("dark-theme")?"dark-theme":"light-theme"},"*")):c.data.type==="permission-iframe-remove"&&(l=!0,e(!1),a.remove(),c.data.newtab&&chrome.runtime.sendMessage({type:"DiscordPresenceNewTab"}),c.data.success&&n(!0),u()))},u=function(){window.removeEventListener("message",d)};var r=d,i=u;const a=document.createElement("iframe");let l=!1;window.addEventListener("message",d),a.style="border: none; height: 70px;",a.src=chrome.runtime.getURL("html/discordpresencerequest.html"),s.appendChild(a),setTimeout(function(){l||(e(!1),a.remove(),chrome.runtime.sendMessage({type:"DiscordPresenceNewTab"}),u())},500),e(!0)}return!1}return t}const Settings={General:{OpenNewTabIfRequiredHAB:{Title:"Open new tab for actions if required",Description:"To support the account security update, the extension might have to open a new tab to perform certain actions. (These actions are triggered by you, tabs will not open randomly)"},OpenNewTabIfRequiredJobsHAB:{Title:"Open new tab for background jobs if required",Description:"To support the account security update, the extension might have to open a new tab to perform certain actions. (These are automatically triggered by the extension, this will lead to tabs opening randomly)"},PinnedGroups:{Title:"Pinned Groups",Description:"Allows you to pin groups you are in to the top of your groups list."},NewMessagePing3:{Title:"New Message Ping",Description:"Creates a ping sound whenever you receive a new chat message."},ExploreAsset:{Title:"Asset Download/View",Description:"Allows you to download or view an asset. Also allows you to go to the image of a decal."},HideDesktopAppBanner:{Title:"Hide Desktop App Banner",Description:"Hides the roblox desktop app banner from appearing."},HideRobloxAds:{Title:"Hide Roblox Ads",Description:"Hides roblox advertisements from appearing."},HideFooter:{Title:"Hide Footer",Description:"Hides the footer at the bottom of the page."},AddDownloadButtonToNewVersionHistory:{Title:"Add Download Button to version history",Description:"Adds a download button to place version history."},Mutuals2:{Title:"Friend Mutuals",Description:"Shows mutuals on a users page."},ResizableChatBoxes:{Title:"Resizable chat boxes",Description:"Allows you to resize the chat boxes on the roblox site. (Drag top left)"},FriendsPageLastOnline:{Title:"Last Online on Friends",Description:"Shows last online if friend is offline on friends page."},LastOnline:{Title:"Show Last Online on Profile",Description:"Shows last online of user on their profile"},ShowFollowsYou:{Title:"Follows You Indicator",Description:"Shows if a user is following you."},ViewBannedGroup:{Title:"View Locked Group",Description:"Allows you to view locked groups."},ViewBannedUser:{Title:"View Banned User",Description:"Allows you to view a banned user. (Safari users will manually have to put in the url: www.roblox.com/banned-user/USERID)"},MinimizableSideBar:{Title:"Minimizable Sidebar",Description:"Adds a button to the navigation sidebar to minimize it but still show the buttons."}},Themes:{},Discord:{DiscordPresence:{Title:"Discord Presence",Description:`Displays what you are playing and join button on discord. (You will not be able to see your own presence if you already have activity, this is a discord limitation)
Uses the account logged into the browser version.`,Run:async function(t,o,e){const n=document.createElement("span");n.className="avatar avatar-headshot-xs user",n.style="display: none; margin-left: 10px; height: 23px; width: 23px;";const s=document.createElement("span");s.className="thumbnail-2d-container avatar-card-image";const r=document.createElement("img");s.appendChild(r),n.appendChild(s);const i=document.createElement("a");i.style="margin-left: 7px;",i.target="_blank",t.append(n,i);let a={};function l(c){return c?a.Id!==c.Id&&a.Avatar!==c.Avatar?(a.Id=c.Id,a.Avatar=c.Avatar,!0):!1:(a={},!0)}function d(c){l(c)&&(c?(r.src=`https://cdn.discordapp.com/avatars/${c.Id}/${c.Avatar}.webp?size=80`,n.style.display="inline-flex"):n.style.display="none")}async function u(){const c=await chrome.runtime.sendMessage({type:"GetDiscordInfo"});c==null?i.innerText="(Click here to login)":c===!1?i.innerText="(Connected to external)":c.Discriminator==0?i.innerText=c.Name:i.innerText=`${c.Name}#${c.Discriminator}`,i.href="https://discord.com/app",d(c)}setInterval(u,1*1e3),u()},Supported:async function(){return await chrome.runtime.sendMessage({type:"FeatureSupported",name:"permissions"})},Middleman:DiscordMiddlemanPermission},ExternalDiscordPresence:{Title:"External Discord Presence",Description:"Displays what you are playing and join button on discord. (",Run:async function(t,o){const e=document.createElement("span");e.className="avatar avatar-headshot-xs user",e.style="display: none; margin-left: 10px; height: 23px; width: 23px;";const n=document.createElement("span");n.className="thumbnail-2d-container avatar-card-image";const s=document.createElement("img");n.appendChild(s),e.appendChild(n);const r=document.createElement("a");r.style="margin-left: 7px;",r.target="_blank",t.append(e,r);const i=document.createElement("a");i.href="https://roqol.io/discord-presence-client",i.innerText="Requires external program",i.style="text-decoration: underline; cursor: pointer;",i.target="_blank";const a=document.createElement("text");a.innerText=" does not have same limitations as browser version)",o.append(i,a);function l(u){u?(s.src=`https://cdn.discordapp.com/avatars/${u.id}/${u.avatar}.webp?size=80`,e.style.display="inline-flex"):e.style.display="none"}async function d(){const u=await chrome.runtime.sendMessage({type:"GetExternalDiscordInfo"});u==!1?r.innerText="(Not Connected)":u!=!0?u.discriminator==0?r.innerText=u.username:r.innerText=`${u.username}#${u.discriminator}`:r.innerText="(Discord Not Detected)",l(u!=!0&&u)}setInterval(d,1*1e3),d()}},DiscordPresenceJoin:{Title:"Show Join Button",Description:"Adds join button to presence to allow other users to join you."},DiscordServerPreview:{Title:"Preview Discord Server",Description:"Adds a preview button to a game discord social link to allow you to preview a server without joining it (Discoverable servers only)",Supported:async function(){return await chrome.runtime.sendMessage({type:"FeatureSupported",name:"permissions"})},Middleman:DiscordMiddlemanPermission}},Home:{ModifyHomeLayout:{Title:"Modify Home Layout",Description:"Moves friends list, continue and favourites sorts back to the top."},ReduceHomeRecommendationsToOneRow:{Title:"Reduce Home Recommendations",Description:"Removes all home recommendation rows except one sort"},UserHeader:{Title:"Home Welcome Header",Description:"Adds back the old home welcome header."},UserHeaderGreeting:{Title:"Home Welcome Greeting",Description:" ",Type:"InputBox",Run:function(t,o,e){const n=e.getElementsByTagName("input")[0];n.style.width="400px",n.maxLength=999;let s="";IsFeatureEnabled("DefaultUserHeaderGreeting").then(function(i){s=i,n.placeholder=s});async function r(){const i=`Customise your home greeting message!
{displayname}/{name} - Replaces with display/name. {period} - Replaces with morning/afternoon/evening based on current time.`;o.innerText=`${await GenerateUserHeaderText(n.value||s)}
${i}`}n.addEventListener("input",r),IsFeatureEnabled("UserHeaderGreeting").then(function(i){n.value=i,r()}),r()},Middleman:async function(t,o,e){e||(e=await IsFeatureEnabled("DefaultUserHeaderGreeting")),SetFeatureEnabled(t,e)}},NameOnHomeFriends:{Title:"Username on home friends row",Description:"Adds username to friends on your home page"},FriendsHomeLastOnline:{Title:"Last Online on Home",Description:"Shows last online if friend is offline on home page."},AddRowToHomeFriends:{Title:"Expand home friends list",Description:"Adds another row to friends list on the home page."},HidePlayTime:{Title:"Hide play time on home page",Description:"Hides play time on home page."},HideEditTime:{Title:"Hide studio session time on home page",Description:"Hides studio session time on home page."}},Games:{LiveExperienceStats:{Title:"Live Experience Statistics",Description:"Updates an experiences stats while you are looking at the page."},ServerRegions:{Title:"Server Regions",Description:"Shows where a server is located."},PreferredServerRegion:{Title:"Preferred Server Region",Description:"Adds a button that allows you to join a server from a certain region (if one exists, else it will look for the closest one)",Type:"SelectionList",GetList:async function(){const[t,o]=await RequestFunc("https://roqol.io/api/servers/regions","GET");if(!t)return["None"];const e=[];for(let n=0;n<o.length;n++)e.push(o[n].Region);return e.push("None"),e}},RandomServersButton:{Title:"Random Server Button",Description:"Adds a button to join a random server"},ServerFilters:{Title:"Server Filters",Description:"Allows you to filter servers by region, size and age."},Playtime:{Title:"Playtime",Description:"Tracks and shows how long you have played a game."},StudioKey:{Title:"Studio Linking Key",Description:"-",Type:"Button",ButtonText:"Generate",Run:async function(t,o){o.innerHTML='Key to link your studio with RoQoL so you can track your edit time!<br><a target="_blank" style="text-decoration: underline; cursor: pointer;" href="https://roqol.io/studioplugin">Click here to install the studio plugin.</a><br><br>Current Key: ...';const[e,n]=await RequestFunc(WebServerEndpoints.Playtime+"studio/key","GET",void 0,void 0,!0,!1);e?n.Key!=""?o.innerHTML='Key to link your studio with RoQoL so you can track your edit time!<br><a target="_blank" style="text-decoration: underline; cursor: pointer;" href="https://roqol.io/studioplugin">Click here to install the studio plugin.</a><br><br>Current Key: '+SanitizeString(n.Key):o.innerHTML='Key to link your studio with RoQoL so you can track your edit time!<br><a target="_blank" style="text-decoration: underline; cursor: pointer;" href="https://roqol.io/studioplugin">Click here to install the studio plugin.</a><br><br>Current Key: Click to generate':o.innerHTML='Key to link your studio with RoQoL so you can track your edit time!<br><a target="_blank" style="text-decoration: underline; cursor: pointer;" href="https://roqol.io/studioplugin">Click here to install the studio plugin.</a><br><br>Current Key: Failed to fetch'},Middleman:async function(t){t.getElementsByClassName("text-description")[0].innerHTML='Key to link your studio with RoQoL so you can track your edit time!<br><a target="_blank" style="text-decoration: underline; cursor: pointer;" href="https://roqol.io/studioplugin">Click here to install the studio plugin.</a><br><br>Current Key: Regenerating';const[o,e]=await RequestFunc(WebServerEndpoints.Playtime+"studio/regenerate","GET",void 0,void 0,!0,!1);o?t.getElementsByClassName("text-description")[0].innerHTML='Key to link your studio with RoQoL so you can track your edit time!<br><a target="_blank" style="text-decoration: underline; cursor: pointer;" href="https://roqol.io/studioplugin">Click here to install the studio plugin.</a><br><br>Current Key: '+SanitizeString(e.Key):t.getElementsByClassName("text-description")[0].innerHTML='Key to link your studio with RoQoL so you can track your edit time!<br><a target="_blank" style="text-decoration: underline; cursor: pointer;" href="https://roqol.io/studioplugin">zClick here to install the studio plugin.</a><br><br>Current Key: Failed to fetch'}},PinnedGames:{Title:"Pinned Games",Description:"Allows you to pin games to your home page."},QuickInvite:{Title:"Quick Invite",Description:"A link you can share with your friends to join a server."},AwardedBadgeDates:{Title:"Badge Awarded Dates",Description:"Shows you when the date you achieved a badge."},RecentServers:{Title:"Show Recent Servers",Description:"Shows recent servers you have joined for a game."},MinimizePrivateServers:{Title:"Minimizable Private Servers",Description:"Allows you to minimize private servers tab."},SortPrivateServersByPlayerCount:{Title:"Sort Private Servers by Player Count",Description:"Enables a checkbox that allows you to sort private servers by how many people are in it."},SupportedPlatforms:{Title:"Show Supported Devices",Description:"Shows what devices a game supports. (Replaces allowed gears)"},ShowFullVoteCount:{Title:"Show full vote count",Description:"Shows the full like/dislike count for a game."}},Trades:{TradeNotifier:{Title:"Trade Notifier",Description:"Sends you a notification when you receive, send, decline or cancel a trade."},TradeFilters:{Title:"Trade Filters",Description:"Allows you to cancel all, old, loss and other trades."},ValuesOnOverview:{Title:"Trade Value Overview",Description:"Allows you to see trade values on the overview list."},ShowSummaryOnTrade:{Title:"Shows earnings on trade",Description:"Shows how much you earnt/loss in value and rap on a trade."},TradeAge:{Title:"Trade Age",Description:"Shows how long ago a trade was created rather than a date."},ShowValueOnTrade:{Title:"Show value on trade",Description:"Shows total value of trade (rolimons)"},ShowDemandOnTrade:{Title:"Show demand on trade",Description:"Shows average demand of trade (rolimons)"},ValueDemandOnItem:{Title:"Demand/Value on Item",Description:"Shows a limited item's demand and value."},ValueAndCategoriesOnOffer:{Title:"Show demand and categories on offer",Description:"Shows a limited item's value and categories (rare, projected, hyped) on the offer page."},RapOnProfile:{Title:"Rap on Profile",Description:"Shows a user's rap on their profile."},ValueOnProfile:{Title:"Value on Profile",Description:"Shows a user's rolimons value on their profile."},QuickDecline:{Title:"Quick Decline",Description:"Adds a button to the trades list to quick decline."},QuickCancel:{Title:"Quick Cancel",Description:"Adds a button to the trades list to quick cancel."},HideSerials:{Title:"Hide Serials",Description:"Adds a button at the top of a trade to hide serials"},AutodeclineTradeValue:{Title:"Auto-decline Inbound Value Loss",Description:"Declines any trade that you receive which have a value loss more than specified"},AutodeclineTradeValueThreshold:{Title:"Auto-decline Inbound Value Loss Threshold",Description:"",Type:"InputBox",Placeholder:"%",Middleman:function(t,o,e){const n=e.replace(/^\D+/g,"");if(n==="")return o+"%";const s=clamp(parseInt(n),0,100);return SetFeatureEnabled(t,s),s+"%"}},AutodeclineOutboundTradeValue:{Title:"Auto-decline Outbound Value Loss",Description:"Declines any trade that you send which have a value loss more than specified"},AutodeclineOutboundTradeValueThreshold:{Title:"Auto-decline Outbound Value Loss Threshold",Description:"",Type:"InputBox",Placeholder:"%",Middleman:function(t,o,e){const n=e.replace(/^\D+/g,"");if(n==="")return o+"%";const s=clamp(parseInt(n),0,100);return SetFeatureEnabled(t,s),s+"%"}},AutodeclineLowTradeValue:{Title:"Auto-decline Low Value Trades",Description:"Declines any trade that you send which have less value then specified"},AutodeclineLowTradeValueThreshold:{Title:"Auto-decline Low Value Trades Threshold",Description:"",Type:"InputBox",Placeholder:"",Middleman:function(t,o,e){const n=e.replace(/^\D+/g,"");return n===""?o:(SetFeatureEnabled(t,parseInt(n)),parseInt(n))}}},Friends:{BestFriends:{Title:"Best Friends",Description:"Adds a new friends row to your home page."},FriendHistory:{Title:"Friend History",Description:"Allows you to see a history of what friends you have had."},FriendNotifications:{Title:"Friend Notifications",Description:"Notifies you when you make or lose a friend."},FriendRequestNotifications:{Title:"Friend Request Notifications",Description:"Notifies you when someone sends you a friend request."},CancelFriendRequest:{Title:"Cancel Friend Request",Description:"Allows you to cancel an outgoing friend request on a users profile."}},Avatar:{ExtraOutfits:{Title:"Extra Outfits",Description:"Allows you to have more than 50 outfits."},RemoveAccessoryLimit:{Title:"Remove Accessory Limit",Description:"Allows you to equip up to 10 accessories."},AvatarSearchbar:{Title:"Item Searchbar",Description:"Adds a search bar to your avatar page."},AssetQuickWearV2:{Title:"Quick Wear Button",Description:"Adds a quick wear button to an accessory page."},AvatarCustomColorPicker:{Title:"Custom Color Picker",Description:"Adds a new button to the skin tone tab that allows you to change your skin tone with a colour wheel."},AvatarEditorForMobile:{Title:"Avatar Editor for Mobile",Description:"Forces the avatar editor on the site to show for mobile."}},StreamerMode:{StreamerMode:{Title:"Enable Streamer Mode",Description:"Hides sensitive information on the roblox page. (EXPERIMENTAL! Some things may not work correctly)"},StreamerModeKeybind:{Title:"Streamer Mode Keybind",Description:"Toggles streamer mode whenever you press the keybind on a roblox page.",Type:"InputBox",Placeholder:"",Run:function(t,t,o){const e=o.getElementsByTagName("input")[0];e.setAttribute("readonly","readonly"),e.style.cursor="pointer",e.style.opacity=1,e.style.width="250px";async function n(){const a=await IsFeatureEnabled("StreamerModeKeybind");e.value=a?a.replace("Key",""):""}async function s(a){document.removeEventListener("keydown",s);const l=a.code;await SetFeatureEnabled("StreamerModeKeybind",l=="Escape"?null:l),n(),i(),e.blur()}function r(){e.value="Press a key (ESC to clear)",document.addEventListener("keydown",s),e.removeEventListener("focusin",r)}function i(){e.addEventListener("focusin",r)}i(),n()}},HideAge:{Title:"Hide Age",Description:"Hides your roblox account age. (excludes dob)"},HideSensitiveInfo:{Title:"Hide Sensitive Information",Description:"Hides sensitive information such as your billing information, date of birth, email, phone etc."},HideRobux:{Title:"Hide your robux",Description:"Hides anything that displays your robux."},HideGroupRobux:{Title:"Hide your group robux",Description:"Hides anything that displays your robux for your groups."},HideServerInvites:{Title:"Hide Server Invites",Description:"Hides private server invite urls."},HideNames:{Title:"Hide Names",Description:"Hides names."},HideSocials:{Title:"Hide Socials",Description:"Hides your socials on your settings page."},HideGroupPayouts:{Title:"Hide Group Payouts Information",Description:"Hides percentages on group payouts page."},HidePreferredServerRegion:{Title:"Hide Preferred Server Region",Description:"Hides preferred server region from the game's page."}},Economy:{AddSales:{Title:"Show Sales",Description:"Shows the amount of sales on assets you manage/created."},AddCreationDate:{Title:"Show Created/Updated Date",Description:"Shows the created and updated date of asset."},ActivePrivateServers:{Title:"Active Private Servers",Description:`Allows you to see which private servers are billing you.
You can view this on your transactions or inventory page.`},DetailedGroupTranscationSummary:{Title:"Transaction Summary Source",Description:"Shows source of income on transaction and group summary page."},CSVChart:{Title:"CSV Chart",Description:"Allows you to upload a CSV file and display it in a chart (User and Group transactions page)."},ShowUSDPurchaseRate:{Title:"Show currency in purchase rate",Description:"Shows currency prices in purchase rate instead of devex rate"},ShowUSDOnAsset:{Title:"Show currency price on asset",Description:"Shows price of asset in currency selected"},AddUSDToTransactions:{Title:"Show currency price on Transactions",Description:"Shows price of transactions in currency selected"},AddUSDToGameStore:{Title:"Show currency price on game store",Description:"Shows price of gamepasses from game store in currency selected"},AddUSDToRobux:{Title:"Show currency on Robux",Description:"Shows amount of robux in currency selected"},Currency:{Title:"Currency",Description:"Shows amount of robux in currency you selected",Type:"SelectionList",GetList:async function(){const[t,o]=await RequestFunc("https://roqol.io/api/currency/rates","GET");if(!t)return[];const e=[];for(const[n,s]of Object.entries(o))e.push(n);return e}}},GeneralNotifications:{InboxNotifications:{Title:"Inbox Notifications",Description:"Send you a notification when you receive a new inbox message."},IgnoreSystemInboxNofitications:{Title:"Ignore System Messages",Description:"Stops system messages sent to your inbox from sending a notification."},GroupShoutNotifications:{Title:"Group Shout Notifications",Description:"Groups",ItemType:"Group",Type:"ListAndSearch",Toggles:{"Joined Groups":function(t,o){if(o===void 0)return t.Joined;t.Joined=o,SetFeatureEnabled("GroupShoutNotifications",t)}},Get:function(t){return[t.Enabled,t.Groups]},Update:function(t,o,e){const n=t.Groups.indexOf(o);e?n===-1&&t.Groups.push(o):n!==-1&&t.Groups.splice(n,1),SetFeatureEnabled("GroupShoutNotifications",t)},State:function(t,o){t.Enabled=o,SetFeatureEnabled("GroupShoutNotifications",t)},Search:async function(t,o){let e;if(t==="Group"?e=`https://groups.roblox.com/v1/groups/search/lookup?groupName=${encodeURI(o)}`:e=`https://users.roblox.com/v1/users/search?keyword=${encodeURI(o)}&limit=10`,!e)return[];const[n,s]=await RequestFunc(e,"GET",void 0,void 0,!0);return n?(s.data.length=Math.min(s.data.length,5),s.data):[]},Icon:async function(t,o){let e;if(t==="Group"?e=`https://thumbnails.roblox.com/v1/groups/icons?groupIds=${o.join(",")}&size=150x150&format=Png&isCircular=false`:e=`https://thumbnails.roblox.com/v1/users/avatar-headshot?userIds=${o.join(",")}&size=150x150&format=Png&isCircular=false`,!e)return{};const[n,s]=await RequestFunc(e,"GET",void 0,void 0,!0);if(!n)return{};const r={},i=s.data;for(let a=0;a<i.length;a++){const l=i[a];r[l.targetId]=l.imageUrl}return r}}},Fixes:{AvatarPageCSSFix:{Title:"Avatar Page Style Fix",Description:"Fixes the styling of the avatar page size so it behaves well with small screens.",Supported:function(){return CSS.supports("aspect-ratio: 1/1")}},FixAvatarPageFirefoxMobileMenu:{Title:"Avatar Page Mobile Menu Fix for Firefox Android",Description:"Fixes not being able to select a new tab on the avatar page on Firefox Android.",Supported:async function(){const t=await chrome.runtime.sendMessage({type:"UserAgent"});return t.toLowerCase().includes("android")&&t.toLowerCase().includes("firefox")}},FixFavouritesPage:{Title:"Favourites Page Fix",Description:"Fixes the favourites page only showing the first 30 games."},PurchasedGamesFix:{Title:"Purchased Games Fix",Description:"Fixes the purchased games option in your inventory."}},Security:{NewLoginNotifier3:{Title:"Notification on new login",Description:"Sends notification to browser when a new login is detected. It includes the location, os, browser and IP of the login."},NewLoginNotifierTTS4:{Title:"TTS Notification on new login",Description:"Uses text to speech to say location, os and browser.",Supported:async function(){return await chrome.runtime.sendMessage({type:"FeatureSupported",name:"tts"})}},NewLoginNotifierTTSVolume:{Title:"TTS Notification on new login volume",Description:"Volume can be between 0 - 1",Type:"InputBox",Placeholder:"",Middleman:function(t,o,e){if(e.replace(/^\D+/g,"")==="")return o;e.charAt(0)==="."&&(e="0"+e);const s=clamp(parseFloat(e),0,1);return SetFeatureEnabled(t,s),s}},OnlyReadNewLoginNotifierTitle:{Title:"Read title for TTS notifications",Description:"Only speaks the title (and location if new login) instead of the entire notifiction."},ShowStateAndCountryOnNewSessionOnly:{Title:"Only show country and state on new session login",Description:"Only shows country and state on new session notification (Disables city)."},ShowIPOnNewSession:{Title:"Display IP on new session login",Description:"Shows IP on new session notification."},IgnoreSessionsFromSameIP2:{Title:"Ignore new sessions from same IP",Description:"Ignores session if it has the same IP as current browser. (Recommended off for VPN or NAT users)"},DisallowOtherIPs2:{Title:"Disallow other IPs on login",Description:`If a session is first logged in from another/unknown IP, it will automatically log it out (Does not affect existing sessions)
If you become locked out while away from your device from this setting, use forget your password to regain access.`},StrictlyDisallowOtherIPs2:{Title:"Strictly disallow other IP",Description:`If a session's IP does not match your device's IP, it will be logged out.
If you become locked out while away from your device from this setting, use forget your password to regain access.`}},Subscription:{}};function IsQOLSettingsOpened(){const t=new URLSearchParams(window.location.search);let o=0;return t.forEach(function(){o++}),t.get("tab")==="robloxqol"&&o==1}async function CreateSpecificSettingsSection(t,o,e){let n;typeof o=="string"?(n=CreateSectionTitle(o),t.appendChild(n)):n=o;let s=1;for(const[r,i]of Object.entries(e)){let a=s;s++,await new Promise(async l=>{let d,u=i.Supported==null||await i.Supported();const c=await IsFeatureEnabled(r),m=await IsFeatureKilled(r),p=await PaidForFeature(r);i.Type==="InputBox"?d=CreateSectionSettingsInputBox(r,i.Title,i.Description,i.Placeholder,c,m,p,u,i.Middleman):i.Type==="SelectionList"?d=CreateSectionSettingsDropdown(r,i.Title,i.Description,await i.GetList(),c,m,p,u,function(h){SetFeatureEnabled(r,h)}):i.Type==="ListAndSearch"?d=CreateSectionSettingsWithListAndSearch(r,i.Title,i.Description,i.Get,i.Update,i.State,i.Search,i.Icon,i.Toggles,i.ItemType,c,m,p,u):i.Type==="Button"?([d,Button]=CreateSectionButtonSetting(i.Title,i.ButtonText,i.Description),Button.addEventListener("click",async function(){const h=await i.Middleman(d,Button);h!==void 0&&SetFeatureEnabled(r,h)})):d=CreateSectionSettingsToggable(r,i.Title,i.Description,c,m,p,u,i.Middleman),i.Run&&i.Run(d.getElementsByTagName("label")[0],d.getElementsByClassName("text-description")[0],d);let f=0,y=t.children;for(let h=0;h<y.length;h++)if(y[h]==n){f=h;break}t.insertBefore(d,t.children[f+a]),l()})}}function CreateDiagnoseSection(t){let o=!1;async function e(){if(o||t.style.display=="none")return;o=!0;const n=document.createElement("p");n.innerHTML='RoQoL is unable to verify with our backend servers! If you are unable to diagnose the issue yourself, please <a class="a-in-p-color-fix" style="text-decoration: underline;" href="https://roqol.io/pages/contact">contact us</a> and send the screenshot of the authentication information!<br><br>';const s=document.createElement("a");s.style="text-decoration: underline;",s.innerText="Click here to open the extensions options page and give permissions for RoQoL to access the required sites.",s.addEventListener("click",function(){chrome.runtime.sendMessage({type:"DiscordPresenceNewTab"})});const r=document.createElement("p");r.innerHTML="<br><br>Debug information below<br><br>";const i=document.createElement("p");i.innerText="Testing connection",chrome.runtime.sendMessage({type:"AuthDebugTestConnection"}).then(function(c){i.innerHTML="200-399 means a successful connection<br>400-499 means a client error (If you are getting a 429, make sure you have your VPN turned off)<br>500-599 means a server error and you will have to wait for it to be fixed<br><br>";for(let m=0;m<c.length;m++){const p=c[m],f=document.createElement("p");f.innerHTML=p.Status?`${SanitizeString(p.Site)}: ${SanitizeString(p.Status)} ${SanitizeString(p.StatusText)} <a class="a-in-p-color-fix" href="${URL.createObjectURL(new Blob([p.Body]))}" target="_blank" style="text-decoration: underline;">(View Response)</a>`:`${SanitizeString(p.Site)}: ${SanitizeString(p.Body)}`,i.appendChild(f)}});const a=document.createElement("p"),l=await chrome.runtime.sendMessage({type:"AuthDebug"});a.innerHTML=`<br><br>Authentication Status: ${l.IsAuthed}<br>Current Roblox Account: ${l.CurrentUserId}<br>Authenticated Account: ${l.UserId}<br>Last Authentication: ${l.LastAuthentication?SecondsToLength(Date.now()/1e3-l.LastAuthentication)+" ago":"None"}<br>Is Authenticating: ${l.IsAuthenticating}<br>Current Authentication Method: ${l.CurrentAuthenticationMethod}<br>First Attempt: ${l.FirstAttempt}<br>From Storage: ${l.FromStorage}<br>Failures in row: ${l.AuthenticationFailuresCounter}<br><br>Error: ${SanitizeString(l.AuthenticationError)}`;const d=document.createElement("p");d.innerText=`Version ${await chrome.runtime.sendMessage({type:"Version"})}`,t.append(n,s,r,i,a,d);const u=document.createElement("style");u.innerHTML=".dark-theme .a-in-p-color-fix {color: white;} .light-theme .a-in-p-color-fix {color: #393b3d;}",document.head.appendChild(u)}new MutationObserver(e).observe(t,{attributes:!0,attributeFilter:["style"]})}function AddImportExportButtons(t){function o(s){const r=document.createElement("button");return r.className="btn-control-sm",r.style.marginRight="6px",r.innerHTML=`<span>${SanitizeString(s)}</span>`,t.appendChild(r),r}const e=o("Import Settings"),n=document.createElement("input");n.accept=".json",n.type="file",n.style.display="none",e.appendChild(n),n.addEventListener("change",function(s){const r=s.target.files[0];if(!r)return;let i=new FileReader;i.onload=async function(a){const l=JSON.parse(a.target.result);for([k,v]of Object.entries(l))await SetFeatureEnabled(k,v,!0);location.reload()},i.readAsText(r)}),e.addEventListener("click",function(){n.click()}),o("Export Settings").addEventListener("click",async function(){const s=URL.createObjectURL(new Blob([JSON.stringify(await chrome.runtime.sendMessage({type:"getsettings"}))],{type:"application/octet-stream"})),r=document.createElement("a");r.setAttribute("download","RoQoL Exported Settings.json"),r.setAttribute("href",s),document.body.append(r),r.click(),r.remove(),URL.revokeObjectURL(s)})}async function CreateSettingsSection(t){for(const[o,e]of Object.entries(Settings))o!="Security"&&CreateSpecificSettingsSection(t,o,e)}function CreateSignoutOption(t){const[o,e]=CreateSectionButtonSetting("Sign out of all other sessions (RoQoL Service)","Sign out");let n=!1;e.addEventListener("click",async function(){if(n)return;n=!0;const s=await Reauthenticate(),[r,i,[a],l]=CreateSuccessDialog(s===""&&"Failed"||"Success",s===""&&"Failed to sign out of all other sessions!"||"You have been signed out of all other sessions.",["OK"]);a.addEventListener("click",function(){r.remove(),i.remove()}),l.addEventListener("click",function(){r.remove(),i.remove()}),document.body.insertBefore(r,document.body.firstChild),document.body.insertBefore(i,document.body.firstChild),n=!1}),t.appendChild(o)}function CreateSecuritySection(t){const o=CreateSectionTitle("Security");t.appendChild(o),CreateSpecificSettingsSection(t,o,Settings.Security),CreateSignoutOption(t)}async function HideOriginalSettingButtonActive(){const t=await WaitForClass("menu-option ng-scope active");t.className="menu-option ng-scope"}function HandleTabChange(t,o){const e=t.children;for(let n=0;n<e.length;n++)e[n].getElementsByTagName("a")[0]?.addEventListener("click",function(){Child.href&&(window.location.search=""),o.className="menu-option ng-scope"})}async function OpenQOLSettings(t,o){window.history.pushState(null,"Settings","/my/account?tab=robloxqol"),WaitForId("vertical-menu").then(function(s){ChildAdded(s,!0,async function(r){ChildAdded(r,!0,function(i){i&&(i.href=i.href.replaceAll("?tab=robloxqol",""),i.href.includes("#!/")&&i.addEventListener("click",function(){window.location.href=i.href}))})})}),HideOriginalSettingButtonActive(),HandleTabChange(t,o),o.className="menu-option ng-scope active";const n=(await WaitForClass("tab-content rbx-tab-content ng-scope")).getElementsByClassName("ng-scope")[0].getElementsByClassName("ng-scope")[0];ClearAllChildren(n),await CreateSettingsSection(n),CreateSecuritySection(n)}async function StartQOLSettings(){const t=IsQOLSettingsOpened();if(new URLSearchParams(window.location.search).get("roseal"))return;const o=await WaitForClass("menu-vertical submenus"),[e]=CreateSettingNavigationButton("RoQoL Settings");o.appendChild(e),e.addEventListener("click",function(n){n.preventDefault(),OpenQOLSettings(o,e)}),t&&OpenQOLSettings(o,e)}

//# sourceMappingURL=https://roqol.io/assets/sourcemap/chrome/2.33.1/js/pages/settings/main.js
const PreventDuplicateScript_126=0;const sleep=e=>new Promise(r=>setTimeout(r,e)),EnabledFeatures={},PaidFeatures={};let AreEnabledFeaturesFetched=!1,ArePaidFeaturesFetched=!1,CurrentSubscription,UserId,CSRFToken="";const Debugging=!1,IgnoreDisabledFeatures=!1,UseV2Waiters=!1,WebServerURL=!Debugging&&"https://roqol.io/"||"http://localhost:8192/",WebServerEndpoints={User:WebServerURL+"api/user/",Configuration:WebServerURL+"api/config/",Voice:WebServerURL+"api/voice/",Ads:WebServerURL+"api/ads/",Feed:WebServerURL+"api/feed/",Friends:WebServerURL+"api/friends/",BestFriends:WebServerURL+"api/bestfriends/",BestFriendsV2:WebServerURL+"api/bestfriends/v2/",Pinned:WebServerURL+"api/pinned/",Game:WebServerURL+"api/game/",UGC:WebServerURL+"api/ugc/",Currency:WebServerURL+"api/currency/",Playtime:WebServerURL+"api/presence/",Themes:WebServerURL+"api/themes/",ThemesV2:WebServerURL+"api/themes/v2/",ThemesV3:WebServerURL+"api/themes/v3/",ThemesImg:WebServerURL+"themes/",Authentication:WebServerURL+"api/auth/",Outfits:WebServerURL+"api/outfits/",OutfitsV2:WebServerURL+"api/outfits/v2/",History:WebServerURL+"api/history/",Servers:WebServerURL+"api/servers/",Limiteds:WebServerURL+"api/limiteds/"},SubscriptionToName=["Free","Pro"];function WaitForClassV2(e){return new Promise(r=>{const t=new MutationObserver(async function(){t.disconnect(),await sleep(0);const n=document.getElementsByClassName(e)[0];n?r(n):t.observe(document,{childList:!0,subtree:!0})});t.observe(document,{childList:!0,subtree:!0})})}function WaitForIdV2(e){return new Promise(r=>{const t=new MutationObserver(async function(){t.disconnect(),await sleep(0);const n=document.getElementById(e);n?r(n):t.observe(document,{childList:!0,subtree:!0})});t.observe(document,{childList:!0,subtree:!0})})}function WaitForQuerySelectorV2(e){return new Promise(r=>{const t=new MutationObserver(async function(){t.disconnect(),await sleep(0);const n=document.querySelector(e);n?r(n):t.observe(document,{childList:!0,subtree:!0})});t.observe(document,{childList:!0,subtree:!0})})}function WaitForTagV2(e){return new Promise(r=>{const t=new MutationObserver(async function(){t.disconnect(),await sleep(0);const n=document.getElementsByTagName(e)[0];n?r(n):t.observe(document,{childList:!0,subtree:!0})});t.observe(document,{childList:!0,subtree:!0})})}function WaitForChildIndexV2(e,r){return new Promise(t=>{const n=new MutationObserver(async function(){n.disconnect(),await sleep(0);const i=e.children[r||0];i?t(i):n.observe(e,{childList:!0})});n.observe(e,{childList:!0})})}function WaitForClassPathV2(e,...r){function t(n,i){return new Promise(o=>{const a=new MutationObserver(async function(){a.disconnect(),await sleep(0);const s=n.getElementsByClassName(i)[0];s?o(s):a.observe(e,{childList:!0})});a.observe(e,{childList:!0})})}return new Promise(async n=>{let i=e;for(let o=0;o<r.length;o++)i=await t(i,r[o]);n(i)})}function FindFirstClass(e){return document.getElementsByClassName(e)[0]}function FindFirstId(e){return document.getElementById(e)}function FindFirstTag(e){return document.getElementsByTagName(e)[0]}function WaitForChildIndex(e,r){if(UseV2Waiters)return WaitForChildIndexV2(e,r);function t(n){let i=null;if(i=e.children[r||0],i==null){setTimeout(t,50,n);return}n(i)}return new Promise(n=>{t(n)})}function WaitForClassRace(...e){function r(t){let n=null;for(let i=0;i<e.length;i++)if(n=FindFirstClass(e[i]),n!=null)return t(n);setTimeout(r,50,t)}return new Promise(t=>{r(t)})}function WaitForClass(e,r){if(UseV2Waiters)return WaitForClassV2(e);let t=0;function n(i){let o=null;if(o=FindFirstClass(e),o==null){if(t+=.05,r&&t>=r)return i();setTimeout(n,50,i);return}i(o)}return new Promise(i=>{n(i)})}function WaitForId(e){if(UseV2Waiters)return WaitForIdV2(e);function r(t){let n=null;if(n=FindFirstId(e),n==null){setTimeout(r,50,t);return}t(n)}return new Promise(t=>{r(t)})}function WaitForQuerySelector(e){if(UseV2Waiters)return WaitForQuerySelectorV2(e);function r(t){let n=null;if(n=document.querySelector(e),n==null){setTimeout(r,50,t);return}t(n)}return new Promise(t=>{r(t)})}function WaitForTag(e){if(UseV2Waiters)return WaitForTagV2(e);function r(t){let n=null;if(n=FindFirstTag(e),n==null){setTimeout(r,50,t);return}t(n)}return new Promise(t=>{r(t)})}async function FindFromAttribute(e,r){let t;for(;t=document.querySelector(`[${e}="${r}"]`),t==null;)await sleep(50);return t}function FindClassPath(e,...r){let t=e;for(let n=0;n<r.length;n++){const i=t.getElementsByClassName(r[n])[0];if(i)t=i;else return}return t}async function WaitForClassPath(e,...r){if(UseV2Waiters)return await WaitForClassPathV2(e,r);let t=e;for(let n=0;n<r.length;n++)for(;;){const i=t.getElementsByClassName(r[n])[0];if(i){t=i;break}await sleep(50)}return t}async function WaitForTagPath(e,...r){let t=e;for(let n=0;n<r.length;n++)for(;;){const i=t.getElementsByTagName(r[n])[0];if(i){t=i;break}await sleep(50)}return t}async function GetUserId(){if(UserId)return UserId;for(;!document.head;)await sleep(100);for(;;){const e=document.head.querySelector("[name~=user-data][data-userid]");if(!e)await sleep(100);else{UserId=e.getAttribute("data-userid");break}}return UserId}async function GetIsOver13(){for(;!document.head;)await sleep(100);for(;;){const e=document.head.querySelector("[name~=user-data][data-isunder13]");if(!e)await sleep(100);else return e.getAttribute("data-isunder13")=="false"}}async function GetUniverseIdFromGamePage(){const e=await WaitForId("game-detail-meta-data");let r;for(;!r;)await sleep(100),r=e.getAttribute("data-universe-id");return parseInt(r)}async function GetPlaceIdFromGamePage(){const e=await WaitForId("game-detail-page");let r;for(;!r;)await sleep(100),r=e.getAttribute("data-place-id");return parseInt(r)}function RequestFuncCORSBypass(e,r,t,n,i,o){return chrome.runtime.sendMessage({type:"fetch",URL:e,Method:r,Headers:t,Body:n,CredientalsInclude:i,BypassResJSON:o})}const hbaClient=new HBAClient({onSite:!0}),BackgroundEventListeners={};function ListenToEventFromBackground(e,r){BackgroundEventListeners[e]||(BackgroundEventListeners[e]=[]),BackgroundEventListeners[e].push(r)}chrome.runtime.onMessage.addListener(function(e,r,t){if(e.type==="HBA")return hbaClient.generateBaseHeaders(e.URL,e.Method,e.CredientalsInclude,e.Body).then(function(i){t(i)}),!0;if(e.type==="Reauthenticating")return CachedAuthKey=e.AuthKey||"",!0;const n=BackgroundEventListeners[e.type];if(n)for(let i=0;i<n.length;i++)n[i](e)});async function RequestFunc(e,r,t,n,i,o){t||(t={});const a=e.search(WebServerURL)>-1;e.search("roblox.com")>-1?(t["x-csrf-token"]=CSRFToken,t={...await hbaClient.generateBaseHeaders(e,r,i||!1,n),...t}):a&&e.search("/auth")==-1&&(t.Authentication=await GetAuthKey());try{let s=await fetch(e,{method:r,headers:t,body:n,credentials:i&&"include"||"omit"}),u;if(!o)try{u=await s.json()}catch(l){u={Success:!1,Result:`decode failed: ${l}`},s.ok=!1}let c=s.headers.get("x-csrf-token");return c&&(CSRFToken=c),!s.ok&&(u?.message=="Token Validation Failed"||u?.errors?.[0]?.message=="Token Validation Failed"||c)||u?.Result=="Invalid authentication!"?(u?.Result=="Invalid authentication!"&&t.Authentication===CachedAuthKey&&await InvalidateAuthKey(),await RequestFunc(e,r,t,n,i)):(a&&s.status===402&&(CurrentSubscription=await chrome.runtime.sendMessage({type:"PaymentRequired",result:u})),[s.ok,u,s])}catch(s){return console.log(s),[!1,{Success:!1,Result:`fetch failed: ${s}`}]}}function ClearAllChildren(e){for(;e.firstChild;)e.removeChild(e.lastChild)}const clamp=(e,r,t)=>Math.min(Math.max(e,r),t);function isNumeric(e){return/^-?\d+$/.test(e)}function SecondsToLengthSingle(e,r){if(r){const a=Math.floor(e/31536e3),s=Math.floor(e/(3600*24*30)),u=Math.floor(e/(3600*24)),c=Math.floor(e%(3600*24)/3600),l=Math.floor(e%3600/60),f=Math.floor(e%60);return a>0?`${a} year${a==1?"":"s"}`:s>0?`${s} month${s==1?"":"s"}`:u>0?`${u} day${u==1?"":"s"}`:c>0?`${c} hour${c==1?"":"s"}`:l>0?`${l} minute${l==1?"":"s"}`:`${f} second${f==1?"":"s"}`}const t=Math.floor(e/(3600*24)),n=Math.floor(e%(3600*24)/3600),i=Math.floor(e%3600/60),o=Math.floor(e%60);return t>0?`${t} day${t==1?"":"s"}`:n>0?`${n} hour${n==1?"":"s"}`:i>0?`${i} minute${i==1?"":"s"}`:`${o} second${o==1?"":"s"}`}function SecondsToLengthShort(e){const r=Math.floor(e/3600),t=Math.floor(e%3600/60),n=Math.floor(e%60);return r>0?r<100?`${r} hr${r==1?"":"s"} ${t} min${t==1?"":"s"}`:`${r} hr${r==1?"":"s"}`:t>0?`${t} min${t==1?"":"s"}`:`${n} second${n==1?"":"s"}`}function SecondsToLength(e,r,t){const n=Math.floor(e/86400),i=Math.floor(e%(3600*24)/3600),o=Math.floor(e%3600/60),a=Math.floor(e%60),s=Math.floor(e/3600);return n>0&&!t?`${n} day${n>1?"s":""}`:t&&s>0||i>0?`${t?s:i} hour${(t&&s>1||i>1)&&"s"||""}`:o>0&&!r?`${o} minute${o>1?"s":""} ${a} second${a>1?"s":""}`:o>0&&r?`${o} minute${o>1?"s":""}`:`${a} second${a==1?"":"s"}`}function SplitArrayIntoChunks(e,r){const t=[];for(let n=0;n<e.length;n+=r){const i=e.slice(n,n+r);t.push(i)}return t}function TimestampToDate(e,r){const t=new Date(typeof e=="number"&&e*1e3||e),n=getNavigatorLanguages()[0];return NumberDate=t.toLocaleTimeString(n,{hour:"2-digit",minute:"2-digit"}),DayDate=t.toLocaleDateString(n),`${r&&NumberDate||DayDate} ${r&&DayDate||NumberDate}`}function numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}async function RobuxToUSD(e){return await IsFeatureEnabled("ShowUSDPurchaseRate")?e*.0125:e*.0035}let ExchangeRateCache,ForceUSDCurrency=!1;async function RobuxToCurrency(e){if(ExchangeRateCache==!0||!ExchangeRateCache){for(;ExchangeRateCache==!0;)await sleep(20);if(!ExchangeRateCache){ExchangeRateCache=!0;const[i,o]=await RequestFunc(WebServerEndpoints.Currency+"rates","GET");if(!i){ForceUSDCurrency=!0,ExchangeRateCache={};return}ExchangeRateCache=o}}const r=getNavigatorLanguages()[0],t=ForceUSDCurrency&&"USD"||await IsFeatureEnabled("Currency"),n=t==="USD"&&1||ExchangeRateCache[t];return new Intl.NumberFormat(r,{style:"currency",currency:ForceUSDCurrency&&"USD"||await IsFeatureEnabled("Currency"),currencyDisplay:"narrowSymbol",maximumFractionDigits:2}).format(await RobuxToUSD(e)*n)}let PageTargetId;function GetTargetId(){return PageTargetId||(PageTargetId=parseInt(window.location.href.split("users/")[1].split("/")[0]),isNaN(PageTargetId)&&(PageTargetId=null)),PageTargetId}function SanitizeString(e){if(typeof e!="string")return e;const r={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#039;","\\":"&#39;"};let t="";for(let n=0;n<e.length;n++){const i=e.charAt(n),o=r[i];t+=o||i}return t}function GetDaysInMonth(e){if(!e)return[];const r=[],t=new Date(e);for(let n=1;n<=new Date(t.getUTCFullYear(),t.getUTCMonth(),0).getDate();n++)r.push(n);return r}function AbbreviateNumber(e,r,t){r=Math.pow(10,r||0);for(var n=["k","m","b","t"],i=n.length-1;i>=0;i--){var o=Math.pow(10,(i+1)*3);if(o<=e){e=Math.floor(e*r/o)/r,e==1e3&&i<n.length-1&&(e=1,i++),e+=n[i].toUpperCase()+(!t&&"+"||"");break}}return e}function ChildAdded(e,r,t){let n;async function i(){for(;!n;)await sleep(0);try{n.disconnect()}catch{}}if(r){const o=e.children;if(o)for(let a=0;a<o.length;a++)t(o[a],i)}return n=new MutationObserver(function(o){o.forEach(function(a){if(a.type!=="childList")return;const s=a.addedNodes;for(let u=0;u<s.length;u++)t(s[u],i)})}),n.observe(e,{childList:!0}),n}function DescendantAdded(e,r,t){let n;async function i(){for(;!n;)await sleep(0);try{n.disconnect()}catch{}}if(r){let a=function(s){const u=s.children;if(u)for(let c=0;c<u.length;c++)t(u[c],i),a(u[c])};var o=a;a(e)}return n=new MutationObserver(function(a){a.forEach(function(s){if(s.type!=="childList")return;const u=s.addedNodes;for(let c=0;c<u.length;c++)t(u[c],i)})}),n.observe(e,{childList:!0,subtree:!0}),n}function ChildRemoved(e,r){return new MutationObserver(function(t,n){t.forEach(function(i){if(i.type!=="childList")return;const o=i.removedNodes;for(let a=0;a<o.length;a++)r(o[a],function(){try{n.disconnect()}catch{}})})}).observe(e,{childList:!0})}function LoadLocalFile(e){return new Promise((r,t)=>{let n=new XMLHttpRequest;n.onreadystatechange=async function(){if(n.status==200&&n.readyState==4){r(n.responseText);return}},n.open("GET",e,!0),n.send()})}async function FetchSubscription(){return CurrentSubscription||(CurrentSubscription=await chrome.runtime.sendMessage({type:"GetSubscription"})),CurrentSubscription}async function FetchAllPaidFeatures(){if(!ArePaidFeaturesFetched){const e=await chrome.runtime.sendMessage({type:"PaidFeatures"});if(e)for(const[r,t]of Object.entries(e))PaidFeatures[r]=t;AreEnabledFeaturesFetched=!0}}let FetchingAllFeaturesEnabled=!1;async function FetchAllFeaturesEnabled(){for(;FetchingAllFeaturesEnabled;)await sleep(50);if(FetchingAllFeaturesEnabled=!0,!AreEnabledFeaturesFetched){const e=await chrome.runtime.sendMessage({type:"getsettings"});if(e)for(const[r,t]of Object.entries(e))EnabledFeatures[r]=t;AreEnabledFeaturesFetched=!0}FetchingAllFeaturesEnabled=!1}let KilledFeatures;async function FetchAllFeaturesKilled(e){KilledFeatures&&!e||(KilledFeatures=await chrome.runtime.sendMessage({type:"getkilledfeatures"}))}async function IsFeatureKilled(e){return IgnoreDisabledFeatures?!1:(await FetchAllFeaturesKilled(!1),KilledFeatures?KilledFeatures.includes(e):!1)}async function PaidForFeature(e){await FetchAllPaidFeatures();const r=PaidFeatures[e];return r?await FetchSubscription()>=r:!0}async function IsFeatureEnabled(e){return await FetchAllFeaturesEnabled(),await IsFeatureKilled(e)||!await PaidForFeature(e)?!1:EnabledFeatures[e]}const OnSettingChanged={};function ListenForFeatureChanged(e,r){OnSettingChanged[e]=r}async function SetFeatureEnabled(e,r,t){await FetchAllFeaturesEnabled(),EnabledFeatures[e]=r;const n={type:"changesetting",feature:e,enabled:r};t?await chrome.runtime.sendMessage(n):chrome.runtime.sendMessage(n);const i=OnSettingChanged[e];i&&i(r)}setInterval(FetchAllFeaturesKilled,20*1e3,!0),GetUserId(),chrome.runtime.sendMessage({type:"InjectContentScripts"}),GetUserId().then(function(e){chrome.runtime.sendMessage({type:"DocumentUserIdUpdate",UserId:parseInt(e)})}),document.addEventListener("RobloxQoL.IsFeatureEnabled",async function(e){document.dispatchEvent(new CustomEvent("RobloxQoL.IsFeatureEnabledResponse",{detail:await IsFeatureEnabled(e.detail)}))});let AlreadySetAuthenticationError=!1;function ReportAuthenticationError(e){!e?.Failed||!window.location.href.includes("www.roblox.com")||AlreadySetAuthenticationError||(AlreadySetAuthenticationError=!0,setTimeout(async function(){const r=await WaitForId("settings-icon"),t=document.createElement("img");t.src=chrome.runtime.getURL("img/warning.png"),t.style="position: absolute; bottom: 10px; left: 10px; width: 26px; height: 26px;",r.appendChild(t)},0))}ListenToEventFromBackground("AuthenticationFailure",ReportAuthenticationError),chrome.runtime.sendMessage({type:"AuthenticationFailureCheck"}).then(ReportAuthenticationError);

//# sourceMappingURL=https://roqol.io/assets/sourcemap/chrome/2.33.1/js/pages/document.js
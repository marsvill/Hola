const PreventDuplicateScript_191=0;async function SortPrivateServersByPlayerCount(){let c=!1;const f=parseInt(window.location.href.split("games/")[1].split("/")[0]);InterceptXMLHttpRequest(function(t){return c&&/https:\/\/games\.roblox\.com\/v1\/games\/[0-9]+\/private-servers(\?cursor=)?/gm.exec(t)},async function(t){if(t.status!==200)return;const e=JSON.parse(t.responseText);if(e.nextPageCursor){e.data=[],e.nextPageCursor=null;let n="";for(;;){const i=await fetch(`https://games.roblox.com/v1/games/${f}/private-servers?cursor=${n}&limit=100`,{method:"GET",credentials:"include"});if(i.ok){const s=await i.json();if(e.data.push(...s.data),n=s.nextPageCursor,!n)break}else break}}e.data.sort(function(n,i){return(i.playing||0)-(n.playing||0)});let r=JSON.stringify(e);return[new Response(r,{status:200,statusText:"OK",headers:Headers}),r]});function l(t,e,r){let n;async function i(){for(;!n;)await sleep(0);try{n.disconnect()}catch{}}if(e){const s=t.children;if(s)for(let o=0;o<s.length;o++)r(s[o],i)}return n=new MutationObserver(function(s){s.forEach(function(o){if(o.type!=="childList")return;const d=o.addedNodes;for(let a=0;a<d.length;a++)r(d[a],i)})}),n.observe(t,{childList:!0}),n}async function u(t){const e=document.createElement("div");e.className="private-server-list-options",e.style="margin-top: 6px; display: flex; align-items: center;",e.innerHTML=`<div class="checkbox" style="margin-left: 0;">
        <input type="checkbox" id="private-filter-checkbox" data-testid="private-filter-checkbox">
        <label class="checkbox-label text-label" for="private-filter-checkbox">Sort By Player Count</label>
        </div>`,t.insertBefore(e,t.children[t.children.length-1]);const r=t.getElementsByClassName("rbx-refresh")[0],n=e.getElementsByTagName("input")[0];n.addEventListener("change",function(){c=n.checked,r.click()})}setTimeout(async function(){WaitForId("running-game-instances-container").then(function(t){let e;e=l(t,!0,function(r){r.id==="rbx-private-servers"&&(u(r),e.disconnect())})}),WaitForId("private-server-container-about-tab").then(function(t){let e;e=l(t,!0,function(r){r.id==="rbx-private-servers"&&(u(r),e.disconnect())})})},0)}setTimeout(SortPrivateServersByPlayerCount,0);

//# sourceMappingURL=https://roqol.io/assets/sourcemap/chrome/2.33.1/js/pages/generalfixes/scriptinjections/privateserverslistsort.js
const PreventDuplicateScript_170=0;const BestFriendsPresenceUpdateScript=document.currentScript;async function BestFriendsPresenceUpdate(){let o;for(;o=document.querySelector('[ng-controller="peopleListContainerController"]'),!o;)await new Promise(e=>setTimeout(e,100));const s=angular.element(o).scope();for(;s.library?.numOfFriends===null;)await new Promise(e=>setTimeout(e,0));const r=Object.values(s.library.friendsDict);r.length>0&&document.dispatchEvent(new CustomEvent("RobloxQoL.BestFriendsPresenceUpdate",{detail:r})),document.dispatchEvent(new CustomEvent("RobloxQoL.BestFriendsPresenceReady",{detail:r})),document.addEventListener("RobloxQoL.BestFriendsTagsRequest",async function(e){const t={},a=JSON.parse(e.detail);let d=0;for(let n=0;n<a.length;n++){const l=s.library.friendsDict[a[n]];if(l){for(;l.nameToDisplay===void 0&&d<5;)d++,await new Promise(u=>setTimeout(u,100));t[a[n]]=l.nameToDisplay}}document.dispatchEvent(new CustomEvent("RobloxQoL.BestFriendsTags",{detail:t}))}),BestFriendsPresenceUpdateScript.setAttribute("ready",!0);let i;for(;i=document.querySelector('[ng-controller="chatController"]'),!i;)await new Promise(e=>setTimeout(e,100));const c=angular.element(i).scope();document.addEventListener("RobloxQoL.OpenFriendChatConversation",function(e){c.openConversation(e.detail,!0)}),document.addEventListener("RobloxQoL.launchGame",function(e){const t=e.detail;Roblox.PlayButton.launchGame(t.placeId,t.rootPlaceId,void 0,t.gameId)})}BestFriendsPresenceUpdate();

//# sourceMappingURL=https://roqol.io/assets/sourcemap/chrome/2.33.1/js/pages/generalfixes/scriptinjections/BestFriendsPresenceUpdate.js
const PreventDuplicateScript_264=0;function CreateVoiceServer(n,e){function i(t){const s=document.createElement("span");s.className="avatar avatar-headshot-md player-avatar",s.innerHTML='<span class="thumbnail-2d-container avatar-card-image"><img class="headshot-img"></span>';const c=s.getElementsByClassName("headshot-img")[0];return typeof t=="string"?c.src=t:(c.src=t.Token,s.getElementsByClassName("thumbnail-2d-container")[0].style.backgroundColor=t.IsMuted?"#f74a54":"#2cb848"),s}const a=document.createElement("li");a.className="rbx-game-server-item col-md-3 col-sm-4 col-xs-6",a.innerHTML=`<div class="card-item" style="min-height: 200px !important;"><div class="player-thumbnails-container"></div><div class="rbx-game-server-details game-server-details"><div class="text-info rbx-game-status rbx-game-server-status text-overflow">${e.VoicePlayers} voice user${e.VoicePlayers>1?"s":""}<br>${parseInt(e.Players)} of ${parseInt(e.MaxPlayers)} people max</div><div class="server-player-count-gauge border"><div class="gauge-inner-bar border" style="width: ${e.Players/e.MaxPlayers*100}%;"></div></div><span data-placeid="${parseInt(n)}"><button type="button" class="btn-full-width btn-control-xs rbx-game-server-join game-server-join-btn btn-primary-md btn-min-width">Join</button></span></div></div></div>`,a.setAttribute("placeid",n),a.setAttribute("jobid",e.JobId),a.getElementsByClassName("rbx-game-server-join")[0].setAttribute("onclick",`Roblox.GameLauncher.joinGameInstance(parseInt("${n}",10), "${e.JobId}")`);const l=a.getElementsByClassName("player-thumbnails-container")[0];function r(t){for(let s=0;s<t.length;s++)l.appendChild(i(t[s]))}if(r(e.VoiceTokens),r(e.Tokens),e.Players>6){const t=document.createElement("span");t.className="avatar avatar-headshot-md player-avatar hidden-players-placeholder",t.innerText=`${e.Players-5}+`,l.appendChild(t)}return AddServerRegion(a),a}async function UniverseHasVoiceChat(n){const[e,i]=await RequestFunc(`https://voice.roblox.com/v1/settings/universe/${n}`,"GET",void 0,void 0,!0);return e?i.isUniverseEnabledForVoice:!1}setTimeout(function(){IsFeatureEnabled("VoiceChatServers").then(async function(n){if(!n||!await UniverseHasVoiceChat(await GetUniverseIdFromGamePage()))return;const[e,i,a,l]=await CreateRecentServersList("Voice Chat Servers","voice"),r=await WaitForId("rbx-friends-running-games");r.parentElement.insertBefore(e,r);const t=document.createElement("span");t.className="spinner spinner-default",i.appendChild(t);const s=await GetPlaceIdFromGamePage(),c=await GetUniverseIdFromGamePage(),[m,o]=await RequestFunc(WebServerEndpoints.Voice+"servers/"+c);if(t.remove(),!m){l.innerText=o?.Result||o.status,a.style.display="";return}if(o.length==0){a.style.display="";return}for(let d=0;d<o.length;d++)i.appendChild(CreateVoiceServer(s,o[d]))})},0);

//# sourceMappingURL=https://roqol.io/assets/sourcemap/chrome/2.33.1/js/pages/voiceservers/voiceservers.js
const PreventDuplicateScript_105=0;let PendingBadgeAwardedFetches=[];function RequestBadgeInfo(a){return new Promise(async n=>{if(PendingBadgeAwardedFetches.push({Resolve:n,Badge:a}),PendingBadgeAwardedFetches.length>1)return;await sleep(100);const t=PendingBadgeAwardedFetches;PendingBadgeAwardedFetches=[];const d=[];for(let e=0;e<t.length;e++)d.push(t[e].Badge);const[l,c]=await RequestFunc(`https://badges.roblox.com/v1/users/${await GetUserId()}/badges/awarded-dates?badgeIds=${d.join(",")}`);if(!l){for(let e=0;e<t.length;e++)t[e].Resolve([!1]);return}const o={};for(let e=0;e<t.length;e++){const s=t[e];o[s.Badge]=s.Resolve}const i=c.data;for(let e=0;e<i.length;e++){const s=i[e],r=o[s.badgeId];r([!0,s.awardedDate]),delete o[s.badgeId]}for(const[e,s]of Object.entries(o))s([!1])})}async function NewBadge(a){if(!a.className||a.className.search("badge-row")===-1)return;const n=a.getElementsByClassName("badge-content")[0].getElementsByClassName("badge-stats-container")[0],t=parseInt(a.getElementsByClassName("badge-image")[0].getElementsByTagName("a")[0].href.split("/badges/")[1].split("/")[0]),[d,l]=await RequestBadgeInfo(t);if(!d)return;const c=document.createElement("li"),o=document.createElement("div");o.className="text-label ng-binding",o.innerText="Achieved At";const i=document.createElement("div");i.className="font-header-2 badge-stats-info ng-binding",i.innerText=TimestampToDate(l,!1),c.appendChild(o),c.appendChild(i),n.appendChild(c);const e=n.children;for(let s=0;s<e.length;s++)e[s].style="width: 25%!important;"}const NewBadgeObserver=new MutationObserver(function(a){a.forEach(function(n){if(n.type!=="childList")return;const t=n.addedNodes;for(let d=0;d<t.length;d++)NewBadge(t[d])})});async function HookToBadgeList(){const a=await WaitForClass("stack-list");NewBadgeObserver.observe(a,{childList:!0});const n=a.children;for(let t=0;t<n.length;t++)NewBadge(n[t])}IsFeatureEnabled("AwardedBadgeDates").then(function(a){a&&HookToBadgeList()});

//# sourceMappingURL=https://roqol.io/assets/sourcemap/chrome/2.33.1/js/pages/badges/achieved.js
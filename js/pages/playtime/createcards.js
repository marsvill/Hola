const PreventDuplicateScript_212=0;async function CreateGameCardsFromUniverseIds(p,g,u,f,y,c){if(c||(c=CreateSpinner(),g.appendChild(c)),u||(u=0),f||(f=[0]),p.length===0){c.remove();return}y||(y=function(e){const a=document.createElement("p");a.innerText=e,g.appendChild(a),c.remove()});const r=[],h={};for(let e=0;e<p.length;e++){const a=p[e];if(typeof a=="number"){r.push(a);continue}r.push(a.UniverseId),h[a.UniverseId]=a.Playtime}const b={},T=[],d={},i={};async function P(){const[e,a]=await RequestFunc(`https://games.roblox.com/v1/games/votes?universeIds=${r.join(",")}`,"GET",void 0,void 0,!0);if(f[0]!==u||!e)return;const s=a.data;for(let l=0;l<s.length;l++){const o=s[l];let t=0;o.downVotes==0?o.upVotes==0?t=null:t=100:t=Math.floor(o.upVotes/(o.upVotes+o.downVotes)*100),d[o.id]?d[o.id].innerText=t&&t+"%"||"--":d[o.id]=t&&t+"%"||"--"}}async function V(){const e=[],a={};for(let t=0;t<r.length;t++){const n=r[t];e.push({requestId:n,targetId:n,type:"GameIcon",size:"150x150",format:"Png",isCircular:!1})}const[s,l]=await RequestFunc("https://thumbnails.roblox.com/v1/batch","POST",{"Content-Type":"application/json"},JSON.stringify(e),!0);for(const[t,n]of Object.entries(i)){const m=a[t];n.parentElement.className="thumbnail-2d-container game-card-thumb-container",n.style="",n.title=m,n.alt=m}if(f[0]!==u||!s)return;const o=l.data;for(let t=0;t<o.length;t++){const n=o[t];i[parseInt(n.requestId)]?i[parseInt(n.requestId)].src=n.imageUrl:i[parseInt(n.requestId)]=n.imageUrl}}return V(),P(),await GetUniversesBatchToLiveCallback(r,function(e){const[a,s,l,o]=CreateGameCard(e.name,`https://www.roblox.com/games/${e.rootPlaceId}`,e.playing);g.appendChild(a),i[e.id]?(s.parentElement.className="thumbnail-2d-container game-card-thumb-container",s.style="",s.title=e.name,s.alt=e.name,s.src=i[e.id]):i[e.id]=s,d[e.id]?o.innerText=d[e.id]:d[e.id]=o;const t=document.createElement("div");t.className="game-card-info";const n=document.createElement("span");n.className="info-label icon-playing-counts-gray icon-playtime";const m=h[e.id];if(m){const I=document.createElement("span");I.className="info-label playing-counts-label",I.innerText=SecondsToLength(m,!0,!0),t.append(n,I),l.parentElement.appendChild(t)}b[e.id]=a,T.push(e)}),c.remove(),b}

//# sourceMappingURL=https://roqol.io/assets/sourcemap/chrome/2.33.1/js/pages/playtime/createcards.js
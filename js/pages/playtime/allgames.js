const PreventDuplicateScript_211=0;function IsPlaytimePage(){return window.location.href.split("#")[1]?.includes("/sortName?sort=Playtime")}function GetPlaytimeType(){return window.location.href.split("type=")[1].split("&")[0]}IsFeatureEnabled("Playtime").then(async function(F){if(!F||!IsPlaytimePage())return;const C=GetPlaytimeType(),o=await WaitForId("games-carousel-page"),[c,i,T]=CreateSortDiscover(C=="Edit"&&"Studio Sessions"||"Playtime");o.appendChild(c),ChildRemoved(o,function(e){e===c&&o.appendChild(c)});const[y,g,h,G]=CreateDropdownList("All Time");y.style="width: 150px; display: inline-table; float: revert; margin-left: 20px;",T.appendChild(y);let s=[0],r,b=0,u=0,f;const n=CreateLoadMoreButton();n.style="display: none;",o.parentElement.appendChild(n);function E(){for(;i.firstChild;)i.removeChild(i.lastChild)}async function P(){s[0]++;const e=s[0];u++,n.setAttribute("disabled","disabled");const l=CreateSpinner();i.appendChild(l);const[p,t,L]=await RequestFunc(`${WebServerEndpoints.Playtime}all?${f}&type=${C}&page=${u}`,"GET");if(s[0]!==e)return;function v(m){const d=document.createElement("p");d.innerText=m,i.appendChild(d),l.remove()}if(!p){v(`Failed to load playtime (${L?.statusText||"HTTP Failed"}. ${t?.Result||""})`);return}t.sort(function(m,d){return d.Playtime-m.Playtime}),r?r.concat(t):r=t,b=100,await CreateGameCardsFromUniverseIds(t.slice(0,Math.min(t.length,100)),i,e,s,v,l),n.removeAttribute("disabled"),t.length==100?n.style="":n.style="display: none;"}async function w(e){E(),r=void 0,f=e,n.style="display: none;",P()}function a(e,l){const[p,t]=CreateDropdownButton(e);g.appendChild(p),t.addEventListener("click",function(){h.innerText=e,h.title=e,u=0,w(l),G()})}a("Past Day","time=1"),a("Past Week","time=7"),a("Past Month","time=30"),a("Past Year","time=365"),a("All Time","time=all"),n.addEventListener("click",P),w("time=all")});

//# sourceMappingURL=https://roqol.io/assets/sourcemap/chrome/2.33.1/js/pages/playtime/allgames.js